{"version":3,"sources":["webpack:///single.min.js","webpack:///webpack/bootstrap a53b924b742ab8c31885","webpack:///./src/main/index.js","webpack:///./src/common/common.js","webpack:///./src/directive/index.js","webpack:///./src/watcher/index.js","webpack:///./src/compile/index.js","webpack:///./src/ajax/index.js","webpack:///./src/arrInit/index.js","webpack:///./src/dep/index.js","webpack:///./src/directive/forDir.js","webpack:///./src/directive/ifDir.js","webpack:///./src/observe/index.js","webpack:///./src/vm/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_index","_index2","_common","Single","this","Routers","VM","page","ajax","me","window","addEventListener","urlChange","value","router","getRouter","loadTemplate","tempUrl","ctrUrl","curURL","getURL","find","item","url","location","hash","split","script","document","createElement","src","async","onload","body","removeChild","isFun","appendChild","type","success","result","getElementById","innerHTML","loadScript","isObject","val","_typeof","isPlainObj","toString","isArray","Array","err","str","Error","isEleNode","node","nodeType","isAttrNode","isTextNode","toArray","slice","isDir","indexOf","isEventDir","isForDir","insertAfter","newNode","parent","parentNode","lastElementChild","insertBefore","nextSibling","Symbol","iterator","obj","constructor","regText","changHtml","html","createRange","createContextualFragment","dirUnit","undefined","_forDir","_ifDir","text","vm","keys","_bind","if","IfDir","for","ForDir","class","model","_data","$data","oldVal","_getVal","event","ev","_setVal","dirVal","dir","fn","$opts","bind","upper","Watcher","newVal","data","forEach","_keys","len","textUpper","textContent","replace","htmlUpper","modelUpper","classUpper","className","trim","$vm","$keys","_fn","depIds","get","getVal","dep","hasOwnProperty","addSub","Compile","el","$el","querySelector","frag","node2Fragment","analyEleNode","createDocumentFragment","child","firstChild","childNodes","analyArrtNode","test","RegExp","$1","attrs","attributes","attrName","attr","name","dirName","global","aD","encodeFormat","ajaxJsonp","re","XMLHttpRequest","open","onreadystatechange","readyState","response","send","reduce","ao","jsonp","fnName","jsonpId","arrayInit","_copy","_del","index","filter","_pop","_shift","_insert","splice","_push","_unpop","uid","Dep","sub","watcher","push","addDep","update","_index3","_index4","start","end","init","_this","arrName","createComment","removeAttribute","arr","outerHTML","box","Observe","walk","hadProperty","getOwnPropertyDescriptor","set","convert","children","notify","options","$compile"],"mappings":"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","file":"single.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(11);\n\t\n\tvar _index2 = __webpack_require__(5);\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Single = function () {\n\t\tfunction Single() {\n\t\t\t_classCallCheck(this, Single);\n\t\n\t\t\tthis.Routers = [];\n\t\t\tthis.VM = _index.VM;\n\t\t\tthis.page = null;\n\t\t\tthis.ajax = _index2.ajax;\n\t\t\tvar me = this;\n\t\t\twindow.addEventListener('load', function () {\n\t\t\t\tme.urlChange();\n\t\t\t});\n\t\t\twindow.addEventListener('hashchange', function () {\n\t\t\t\tme.urlChange();\n\t\t\t});\n\t\t}\n\t\n\t\t_createClass(Single, [{\n\t\t\tkey: 'urlChange',\n\t\t\tvalue: function urlChange() {\n\t\t\t\tvar router = this.getRouter();\n\t\t\t\tif (router) {\n\t\t\t\t\tthis.loadTemplate(router.tempUrl, router.ctrUrl);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRouter',\n\t\t\tvalue: function getRouter() {\n\t\t\t\tvar curURL = this.getURL(),\n\t\t\t\t    router = this.Routers.find(function (item) {\n\t\t\t\t\treturn item.url === curURL;\n\t\t\t\t});\n\t\t\t\treturn router ? router : this.Routers[0];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getURL',\n\t\t\tvalue: function getURL() {\n\t\t\t\treturn location.hash.split(\"?\")[0].split(\"#\")[1];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadScript',\n\t\t\tvalue: function loadScript(url) {\n\t\t\t\tvar script = document.createElement('script'),\n\t\t\t\t    me = this;\n\t\t\t\tscript.src = url;\n\t\t\t\tscript.async = true;\n\t\t\t\tscript.onload = function () {\n\t\t\t\t\tdocument.body.removeChild(script);\n\t\t\t\t\tif ((0, _common.isFun)(me.page)) {\n\t\t\t\t\t\tme.page();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdocument.body.appendChild(script);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadTemplate',\n\t\t\tvalue: function loadTemplate(tempUrl, ctrUrl) {\n\t\t\t\tvar me = this;\n\t\t\t\tme.ajax({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\turl: tempUrl,\n\t\t\t\t\tasync: false,\n\t\t\t\t\tsuccess: function success(result) {\n\t\t\t\t\t\tdocument.getElementById('sp-app').innerHTML = result;\n\t\t\t\t\t\tme.loadScript(ctrUrl);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Single;\n\t}();\n\t\n\twindow.Single = new Single();\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.isObject = isObject;\n\texports.isPlainObj = isPlainObj;\n\texports.isArray = isArray;\n\texports.isFun = isFun;\n\texports.err = err;\n\texports.isEleNode = isEleNode;\n\texports.isAttrNode = isAttrNode;\n\texports.isTextNode = isTextNode;\n\texports.toArray = toArray;\n\texports.isDir = isDir;\n\texports.isEventDir = isEventDir;\n\texports.isForDir = isForDir;\n\texports.insertAfter = insertAfter;\n\tvar regText = exports.regText = /\\{\\{(.+)\\}\\}/;\n\t\n\tfunction isObject(val) {\n\t\treturn (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object';\n\t}\n\t\n\tfunction isPlainObj(val) {\n\t\treturn Object.prototype.toString.call(val) === '[object Object]';\n\t}\n\t\n\tfunction isArray(val) {\n\t\treturn Array.isArray(val);\n\t}\n\t\n\tfunction isFun(val) {\n\t\treturn typeof val === 'function';\n\t}\n\t\n\tfunction err(str) {\n\t\tthrow new Error(str);\n\t}\n\t\n\tfunction isEleNode(node) {\n\t\treturn node.nodeType === 1;\n\t}\n\t\n\tfunction isAttrNode(node) {\n\t\treturn node.nodeType === 2;\n\t}\n\t\n\tfunction isTextNode(node) {\n\t\treturn node.nodeType === 3;\n\t}\n\t\n\tfunction toArray(val) {\n\t\treturn [].slice.call(val);\n\t}\n\t\n\tfunction isDir(str) {\n\t\treturn str.indexOf('s-') === 0;\n\t}\n\t\n\tfunction isEventDir(str) {\n\t\treturn str.indexOf('on') === 0;\n\t}\n\t\n\tfunction isForDir(str) {\n\t\treturn str.indexOf('for') === 0;\n\t}\n\t\n\tfunction insertAfter(newNode, target) {\n\t\tvar parent = target.parentNode;\n\t\tif (parent.lastElementChild == target) {\n\t\t\tparent.appendChild(newNode);\n\t\t} else {\n\t\t\tparent.insertBefore(newNode, target.nextSibling);\n\t\t}\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.dirUnit = undefined;\n\texports.changHtml = changHtml;\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(3);\n\t\n\tvar _forDir = __webpack_require__(8);\n\t\n\tvar _ifDir = __webpack_require__(9);\n\t\n\t/**\r\n\t * [dirUnit 指令-数据绑定单元]\r\n\t * @包含各指令方法 [test | event]\r\n\t */\n\tvar dirUnit = exports.dirUnit = {\n\t\n\t\t/**\r\n\t  * [v-text指令 \\ {{.+}}绑定数据修改函数]\r\n\t  * @param  {[type]} node [需要更新的节点]\r\n\t  * @param  {Single} vm   [创建的全局对象]\r\n\t  * @param  {[type]} keys [指令中对应的数据位置]\r\n\t  */\n\t\ttext: function text(node, vm, keys) {\n\t\t\tdirUnit._bind(node, vm, keys, 'text');\n\t\t},\n\t\tif: function _if(node, vm, keys) {\n\t\t\treturn new _ifDir.IfDir(node, vm, keys);\n\t\t},\n\t\tfor: function _for(node, vm, keys) {\n\t\t\treturn new _forDir.ForDir(node, vm, keys);\n\t\t},\n\t\n\t\t/**\r\n\t  * [v-html指令]\r\n\t  * @param  {[type]} node [需要更新的节点]\r\n\t  * @param  {Single} vm   [创建的全局对象]\r\n\t  * @param  {[type]} keys [指令中对应的数据位置]\r\n\t  */\n\t\thtml: function html(node, vm, keys) {\n\t\t\tdirUnit._bind(node, vm, keys, 'html');\n\t\t},\n\t\n\t\t/**\r\n\t  * [v-class指令]\r\n\t  * @param  {[type]} node [需要更新的节点]\r\n\t  * @param  {Single} vm   [创建的全局对象]\r\n\t  * @param  {[type]} keys [指令中对应的数据位置]\r\n\t  */\n\t\tclass: function _class(node, vm, keys) {\n\t\t\tdirUnit._bind(node, vm, keys, 'class');\n\t\t},\n\t\n\t\t/**\r\n\t  * [v-model指令]\r\n\t  * @param  {[type]} node [需要更新的节点]\r\n\t  * @param  {Single} vm   [创建的全局对象]\r\n\t  * @param  {[type]} keys [指令中对应的数据位置]\r\n\t  */\n\t\tmodel: function model(node, vm, keys) {\n\t\t\tdirUnit._bind(node, vm, keys, 'model');\n\t\t\tvar me = undefined,\n\t\t\t    _data = vm.$data,\n\t\t\t    oldVal = dirUnit._getVal(keys, _data);\n\t\t\tnode.addEventListener('input', function (event) {\n\t\t\t\toldVal = dirUnit._getVal(keys, _data);\n\t\t\t\tvar ev = event || window.event,\n\t\t\t\t    val = ev.target.value;\n\t\t\t\tif (val == oldVal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdirUnit._setVal(keys, _data, val);\n\t\t\t}, true);\n\t\t},\n\t\n\t\t/**\r\n\t  * [v-on:ev 事件指令]\r\n\t  * @param  {[type]} node   [需要更新的节点]\r\n\t  * @param  {[type]} vm     [创建的全局对象]\r\n\t  * @param  {[type]} dirVal [指令中的值]\r\n\t  * @param  {[type]} dir    [指令名]\r\n\t  */\n\t\tevent: function event(node, vm, dirVal, dir) {\n\t\t\tvar ev = dir.split(':')[1],\n\t\t\t    fn = vm.$opts.event[dirVal];\n\t\t\tif ((0, _common.isFun)(fn)) {\n\t\t\t\tnode.addEventListener(ev, fn.bind(vm), false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\r\n\t  * [将节点值与数据进行绑定，当数据修改时，遍历该数据所有订阅者dep.sub，调用 Watcher 中的匿名函数]\r\n\t  * @param  {[type]} node [需要更新的节点]\r\n\t  * @param  {[type]} vm   [创建的全局对象]\r\n\t  * @param  {[type]} keys [指令中对应的数据位置]\r\n\t  * @param  {[type]} dir  [指令名]\r\n\t  */\n\t\t_bind: function _bind(node, vm, keys, dir) {\n\t\t\tvar fn = upper[dir + 'Upper'];\n\t\t\t(0, _common.isFun)(fn) && fn(node, dirUnit._getVal(keys, vm.$data));\n\t\t\tif (dir === 'model') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnew _index.Watcher(vm, keys, function (newVal, val) {\n\t\t\t\t(0, _common.isFun)(fn) && fn(node, newVal, val);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\r\n\t  * [根据指令值获取绑定的数据值]\r\n\t  * @param  {[str]} keys [指令中对应的数据位置]\r\n\t  * @param  {[obj]} val  [数据所在位置 / 数据]\r\n\t  */\n\t\t_getVal: function _getVal(keys, data) {\n\t\t\tkeys.split('.').forEach(function (key) {\n\t\t\t\tdata = data[key];\n\t\t\t});\n\t\t\treturn data;\n\t\t},\n\t\n\t\t/**\r\n\t  * [设置data中的某项的值，触发set]\r\n\t  * @param  {[str]} keys [指令中对应的数据位置]\r\n\t  * @param  {[obj]} data [new Single() 参数对象 data]\r\n\t  * @param  {[any]} val  [新值]\r\n\t  */\n\t\t_setVal: function _setVal(keys, data, val) {\n\t\t\tvar _keys = keys.split('.'),\n\t\t\t    len = _keys.length - 1;\n\t\t\t_keys.forEach(function (key, i) {\n\t\t\t\tif (i == len) {\n\t\t\t\t\tdata[key] = val;\n\t\t\t\t} else {\n\t\t\t\t\tdata = data[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\t\n\t/**\r\n\t * [upper 指令更新单元]\r\n\t * @param  {[str]} node \t[绑定节点]\r\n\t * @param  {[obj]} newVla [新值]\r\n\t * @param  {[any]} val  \t[原值]\r\n\t */\n\tvar upper = {\n\t\ttextUpper: function textUpper(node, newVal, oldVal) {\n\t\t\tnode.textContent = node.textContent.replace(oldVal ? oldVal : _common.regText, newVal);\n\t\t},\n\t\n\t\thtmlUpper: function htmlUpper(node, newVal) {\n\t\t\tnode.innerHTML = newVal;\n\t\t},\n\t\n\t\tmodelUpper: function modelUpper(node, newVal, val) {\n\t\t\tnode.value = newVal ? newVal : '';\n\t\t},\n\t\n\t\tclassUpper: function classUpper(node, newVal, val) {\n\t\t\tnode.className = (val ? node.className.replace(val, newVal) : node.className + (newVal ? ' ' : '') + newVal).trim();\n\t\t}\n\t};\n\t\n\tfunction changHtml(html) {\n\t\treturn document.createRange().createContextualFragment(html);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar target = exports.target = null;\n\t\n\t/**\r\n\t * 订阅者对象\r\n\t */\n\t\n\tvar Watcher = exports.Watcher = function () {\n\t\tfunction Watcher(vm, keys, fn) {\n\t\t\t_classCallCheck(this, Watcher);\n\t\n\t\t\tthis.$vm = vm;\n\t\t\tthis.$keys = keys;\n\t\t\tthis._fn = fn;\n\t\t\tthis.depIds = {};\n\t\t\tthis.val = this.get();\n\t\t}\n\t\n\t\t/**\r\n\t  * [get 获取数据原始值]\r\n\t  */\n\t\n\t\n\t\t_createClass(Watcher, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get() {\n\t\t\t\texports.target = target = this;\n\t\t\t\tvar val = this.getVal();\n\t\t\t\texports.target = target = null;\n\t\t\t\treturn val;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [getVal 遍历keys获取属性值，并出发数据get方法，get方法中触发watcher.addDep]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getVal',\n\t\t\tvalue: function getVal() {\n\t\t\t\tvar keys = this.$keys.split('.'),\n\t\t\t\t    val = this.$vm.$data;\n\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\tval = val[key];\n\t\t\t\t});\n\t\t\t\treturn val;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [addDep 将Dep加入Watcher.depIds，触发Dep.addSub]\r\n\t   * @param {[type]} dep [Dep对象]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'addDep',\n\t\t\tvalue: function addDep(dep) {\n\t\t\t\tif (!this.depIds.hasOwnProperty(dep.id)) {\n\t\t\t\t\tthis.depIds[dep.id] = dep;\n\t\t\t\t\tdep.addSub(this);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [update dirUnit._bind中传入的参数]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\t\t\tvar newVal = this.get(),\n\t\t\t\t    val = this.val;\n\t\t\t\tif (val == newVal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.val = newVal;\n\t\t\t\tthis._fn.call(this.$vm, newVal, val);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Watcher;\n\t}();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Compile = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Compile = exports.Compile = function () {\n\t\tfunction Compile(el, vm) {\n\t\t\t_classCallCheck(this, Compile);\n\t\n\t\t\tthis.$vm = vm;\n\t\t\tthis.$opts = this.$vm.$opts;\n\t\t\tthis.$data = this.$opts.data;\n\t\t\tthis.$el = el.nodeType ? el : document.querySelector(el);\n\t\n\t\t\tif (this.$el) {\n\t\t\t\tvar frag = this.node2Fragment(this.$el);\n\t\t\t\tthis.analyEleNode(frag);\n\t\t\t\tthis.$el.appendChild(frag);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\r\n\t  * [node2Fragment 将节点放入文档碎片]\r\n\t  * @param  {[type]} node [节点]\r\n\t  */\n\t\n\t\n\t\t_createClass(Compile, [{\n\t\t\tkey: 'node2Fragment',\n\t\t\tvalue: function node2Fragment(node) {\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t    child = void 0;\n\t\t\t\twhile (child = node.firstChild) {\n\t\t\t\t\tfrag.appendChild(child);\n\t\t\t\t}\n\t\t\t\treturn frag;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [analyEleNode 解析模板对模板中的指令进行解析]\r\n\t   * @param  {node} el [ 开始节点（递归） ]\r\n\t   * @return {[undefined]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'analyEleNode',\n\t\t\tvalue: function analyEleNode(el) {\n\t\t\t\tvar child = el.childNodes,\n\t\t\t\t    me = this;\n\t\t\t\t(0, _common.toArray)(child).forEach(function (node) {\n\t\t\t\t\tif ((0, _common.isEleNode)(node)) {\n\t\t\t\t\t\t//若为元素节点对其属性节点进行遍历\n\t\t\t\t\t\tme.analyArrtNode(node);\n\t\t\t\t\t} else if ((0, _common.isTextNode)(node) && _common.regText.test(node.textContent)) {\n\t\t\t\t\t\t_index.dirUnit.text(node, me.$vm, RegExp.$1.trim());\n\t\t\t\t\t}\n\t\t\t\t\tif (node.parentNode && node.childNodes && node.childNodes.length > -1) {\n\t\t\t\t\t\tme.analyEleNode(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [analyArrtNode 对元素节点的属性进行遍历，找出其中指令]\r\n\t   * @param  {[node]} node [需要遍历属性的节点]\r\n\t   * @return {[undefined]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'analyArrtNode',\n\t\t\tvalue: function analyArrtNode(node) {\n\t\t\t\tvar attrs = node.attributes,\n\t\t\t\t    me = this,\n\t\t\t\t    attrName = '';\n\t\n\t\t\t\t(0, _common.toArray)(attrs).forEach(function (attr) {\n\t\t\t\t\tattrName = attr.name;\n\t\t\t\t\tif ((0, _common.isDir)(attrName)) {\n\t\t\t\t\t\tvar dirName = attrName.split('-')[1],\n\t\t\t\t\t\t    dirVal = attr.value.trim();\n\t\t\t\t\t\tif ((0, _common.isEventDir)(dirName)) {\n\t\t\t\t\t\t\t_index.dirUnit.event(node, me.$vm, dirVal, dirName);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_index.dirUnit[dirName](node, me.$vm, dirVal);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\n\t\treturn Compile;\n\t}();\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ajax = ajax;\n\t\n\tvar jsonpId = 0;\n\tfunction ajax(aD) {\n\t\tif (!aD.url) throw new Error('请输入正确的URL!');\n\t\taD.type = aD.type || 'GET';\n\t\taD.async = aD.async || true;\n\t\taD.data = encodeFormat(aD.data);\n\t\taD.url = aD.type == 'POST' ? aD.url : aD.url + (aD.url.indexOf('?') == -1 ? '?' : '&') + aD.data;\n\t\tif (aD.type == 'jsonp') {\n\t\t\tajaxJsonp(aD);\n\t\t\treturn false;\n\t\t}\n\t\tvar re = new XMLHttpRequest();\n\t\tre.open(aD.type, aD.url, aD.async);\n\t\tre.onreadystatechange = function () {\n\t\t\tif (re.readyState == 4 && aD.success) {\n\t\t\t\taD.success(re.response);\n\t\t\t}\n\t\t};\n\t\tre.send(aD.type === 'GET' ? null : aD.data);\n\t}\n\t\n\tfunction encodeFormat(obj) {\n\t\tif (!obj) return '';\n\t\treturn Object.keys(obj).reduce(function (re, item) {\n\t\t\treturn re += '&' + item + '=' + obj[item];\n\t\t}, '').slice(1);\n\t}\n\t\n\tfunction ajaxJsonp(ao) {\n\t\tif (!ao.jsonp) throw new Error('请输入函数名称');\n\t\tvar fnName = 'jsonp' + '_' + jsonpId++;\n\t\tao.url = ao.url + ao.jsonp + '=' + fnName;\n\t\tvar script = document.createElement('script');\n\t\tglobal[fnName] = function (response) {\n\t\t\ttry {\n\t\t\t\tao.success(response);\n\t\t\t} finally {\n\t\t\t\tdelete global[fnName];\n\t\t\t\tscript.parentNode.removeChild(script);\n\t\t\t}\n\t\t};\n\t\tscript.src = ao.url;\n\t\tdocument.body.appendChild(script);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.arrayInit = undefined;\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\t/**\r\n\t * [arrayInit 数组扩展函数]\r\n\t * @return {[type]} [description]\r\n\t */\n\tvar arrayInit = exports.arrayInit = function arrayInit() {\n\t\n\t\t/**\r\n\t  * [_copy 浅拷贝数组]\r\n\t  */\n\t\tArray.prototype._copy = function () {\n\t\t\treturn [].slice.call(this);\n\t\t};\n\t\n\t\t/**\r\n\t  * [_del 删除数组制定下标的元素]\r\n\t  * @param  {[type]} index [数组下标]\r\n\t  */\n\t\tArray.prototype._del = function (index) {\n\t\t\treturn this.filter(function (item, i) {\n\t\t\t\treturn i !== index;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\r\n\t  * [_pop 删除数组中第一个元素]\r\n\t  * @return {[type]} [description]\r\n\t  */\n\t\tArray.prototype._pop = function () {\n\t\t\treturn this._del(0);\n\t\t};\n\t\n\t\t/**\r\n\t  * [_shift 删除数组最后一个元素]\r\n\t  * @return {[type]} [description]\r\n\t  */\n\t\tArray.prototype._shift = function () {\n\t\t\treturn this._del(this.length - 1);\n\t\t};\n\t\n\t\t/**\r\n\t  * [_insert 在数组指定位置插入元素]\r\n\t  * @param  {[type]} index [下标]\r\n\t  * @param  {[type]} item  [元素]\r\n\t  */\n\t\tArray.prototype._insert = function (index, item) {\n\t\t\tvar result = this._copy();\n\t\t\tresult.splice(index, 0, item);\n\t\t\treturn result;\n\t\t};\n\t\n\t\t/**\r\n\t  * [_push 在数组末尾增加元素]\r\n\t  * @param  {[type]} item [元素]\r\n\t  */\n\t\tArray.prototype._push = function (item) {\n\t\t\treturn this._insert(this.length, item);\n\t\t};\n\t\n\t\t/**\r\n\t  * [_unpop 在数组开始增加元素]\r\n\t  * @param  {[type]} item [元素]\r\n\t  */\n\t\tArray.prototype._unpop = function (item) {\n\t\t\treturn this._insert(0, item);\n\t\t};\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 发布者与订阅者关联对象\r\n\t */\n\t\n\tvar Dep = exports.Dep = function () {\n\t\tfunction Dep() {\n\t\t\t_classCallCheck(this, Dep);\n\t\n\t\t\tthis.id = uid++;\n\t\t\tthis.sub = [];\n\t\t}\n\t\n\t\t/**\r\n\t  * [addSub 在sub中增加订阅者]\r\n\t  * @param {[type]} watcher [订阅者 Watcher 对象]\r\n\t  */\n\t\n\t\n\t\t_createClass(Dep, [{\n\t\t\tkey: \"addSub\",\n\t\t\tvalue: function addSub(watcher) {\n\t\t\t\tthis.sub.push(watcher);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [depend 触发 Wtacher 的add事件，将dep加入 Watcher]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: \"depend\",\n\t\t\tvalue: function depend() {\n\t\t\t\ttarget.addDep(this);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [notify 绑定数据set出发此方法，对sub中Watcher进行遍历触发update]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: \"notify\",\n\t\t\tvalue: function notify() {\n\t\t\t\tthis.sub.forEach(function (item) {\n\t\t\t\t\titem.update();\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\n\t\treturn Dep;\n\t}();\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ForDir = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tvar _index2 = __webpack_require__(4);\n\t\n\tvar _index3 = __webpack_require__(2);\n\t\n\tvar _index4 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ForDir = exports.ForDir = function () {\n\t\tfunction ForDir(node, vm, keys) {\n\t\t\t_classCallCheck(this, ForDir);\n\t\n\t\t\tthis.start = null;\n\t\t\tthis.end = null;\n\t\t\tthis.init(node, vm, keys);\n\t\t}\n\t\n\t\t_createClass(ForDir, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(node, vm, keys) {\n\t\t\t\tthis.bind(node, vm, keys);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bind',\n\t\t\tvalue: function bind(node, vm, keys) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar arrName = keys.split('in')[1].trim(),\n\t\t\t\t    me = this;\n\t\t\t\tme.upper(node, vm, keys);\n\t\t\t\tnew _index4.Watcher(vm, arrName, function (val, newVal) {\n\t\t\t\t\twhile (_this.start.nextSibling != _this.end) {\n\t\t\t\t\t\t_this.end.parentNode.removeChild(_this.start.nextSibling);\n\t\t\t\t\t}\n\t\t\t\t\tme.upper(node, vm, keys);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'upper',\n\t\t\tvalue: function upper(node, vm, keys) {\n\t\t\t\tif (!this.start) {\n\t\t\t\t\tthis.start = document.createComment('start of s-for');\n\t\t\t\t\tnode.parentNode.insertBefore(this.start, node);\n\t\t\t\t}\n\t\t\t\tif (!this.end) {\n\t\t\t\t\tthis.end = document.createComment('end of s-for');\n\t\t\t\t\tnode.parentNode.insertBefore(this.end, node);\n\t\t\t\t}\n\t\n\t\t\t\tnode.removeAttribute('s-for');\n\t\t\t\tvar item = keys.split('in')[0].trim(),\n\t\t\t\t    arrName = keys.split('in')[1].trim(),\n\t\t\t\t    arr = _index.dirUnit._getVal(arrName, vm.$data),\n\t\t\t\t    html = node.outerHTML,\n\t\t\t\t    box = '';\n\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {\n\t\t\t\t\tbox += html.replace(item, arrName + '.' + i);\n\t\t\t\t};\n\t\t\t\tbox = (0, _index3.changHtml)(box);\n\t\t\t\tnew _index2.Compile(box, vm);\n\t\t\t\tthis.end.parentNode.insertBefore(box, this.end);\n\t\n\t\t\t\tif (node.parentNode) {\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn ForDir;\n\t}();\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.IfDir = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tvar _index2 = __webpack_require__(4);\n\t\n\tvar _index3 = __webpack_require__(2);\n\t\n\tvar _index4 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar IfDir = exports.IfDir = function () {\n\t\tfunction IfDir(node, vm, keys) {\n\t\t\t_classCallCheck(this, IfDir);\n\t\n\t\t\tthis.start = null;\n\t\t\tthis.end = null;\n\t\t\tthis.init(node, vm, keys);\n\t\t}\n\t\n\t\t_createClass(IfDir, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(node, vm, keys) {\n\t\t\t\tthis.bind(node, vm, keys);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bind',\n\t\t\tvalue: function bind(node, vm, keys) {\n\t\t\t\tvar me = this;\n\t\t\t\tnew _index2.Compile(node, vm);\n\t\t\t\tme.upper(node, vm, keys, _index.dirUnit._getVal(keys, vm.$data));\n\t\t\t\tnew _index4.Watcher(vm, keys, function (newVal, val) {\n\t\t\t\t\tif (!!newVal == !!val) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tme.upper(node, vm, keys, newVal);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'upper',\n\t\t\tvalue: function upper(node, vm, keys, newVal, val) {\n\t\t\t\tif (!this.start) {\n\t\t\t\t\tthis.start = document.createComment('start of s-if');\n\t\t\t\t\tnode.parentNode.insertBefore(this.start, node);\n\t\t\t\t}\n\t\t\t\tif (!this.end) {\n\t\t\t\t\tthis.end = document.createComment('end of s-if');\n\t\t\t\t\tnode.parentNode.insertBefore(this.end, node);\n\t\t\t\t}\n\t\t\t\tif (node.parentNode) {\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t}\n\t\t\t\tif (newVal) {\n\t\t\t\t\tthis.end.parentNode.insertBefore(node, this.end);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn IfDir;\n\t}();\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Observe = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(7);\n\t\n\tvar _index2 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * 发布者对象\r\n\t */\n\tvar Observe = exports.Observe = function () {\n\t\tfunction Observe(data) {\n\t\t\t_classCallCheck(this, Observe);\n\t\n\t\t\tif (!(0, _common.isObject)(data)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.walk(data);\n\t\t}\n\t\n\t\t/**\r\n\t  * [walk 对数据中属性进行遍历劫持]\r\n\t  * @param  {[type]} data [待劫持数据]\r\n\t  */\n\t\n\t\n\t\t_createClass(Observe, [{\n\t\t\tkey: 'walk',\n\t\t\tvalue: function walk(data) {\n\t\t\t\tvar me = this,\n\t\t\t\t    hadProperty = Object.getOwnPropertyDescriptor;\n\t\t\t\tObject.keys(data).forEach(function (key) {\n\t\t\t\t\tif ((0, _common.isFun)(hadProperty(data, key).set)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tme.convert(data, key, data[key]);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [convert 递归数据劫持]\r\n\t   * @param  {[type]} data  [待劫持数据]\r\n\t   * @param  {[type]} key   [待劫持数据属性名]\r\n\t   * @param  {[type]} value [待劫持数据值]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'convert',\n\t\t\tvalue: function convert(data, key, value) {\n\t\t\t\tvar ob = this,\n\t\t\t\t    children = new Observe(value),\n\t\t\t\t    dep = new _index.Dep();\n\t\t\t\tObject.defineProperty(data, key, {\n\t\t\t\t\tconfigurable: false,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t_index2.target && _index2.target.addDep(dep);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tset: function set(newVal) {\n\t\t\t\t\t\tif (value == newVal) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue = newVal;\n\t\t\t\t\t\tchildren = new Observe(newVal);\n\t\t\t\t\t\tdep.notify();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\n\t\treturn Observe;\n\t}();\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.VM = undefined;\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(6);\n\t\n\tvar _index2 = __webpack_require__(10);\n\t\n\tvar _index3 = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * 入口对象\r\n\t */\n\tvar VM = exports.VM = function VM(options) {\n\t\t_classCallCheck(this, VM);\n\t\n\t\t(0, _index.arrayInit)();\n\t\tthis.$opts = options;\n\t\tthis.$data = options.data;\n\t\tif ((0, _common.isFun)(options)) {\n\t\t\toptions.data = options.data();\n\t\t}\n\t\tnew _index2.Observe(options.data);\n\t\n\t\tthis.$compile = new _index3.Compile(options.el || document.body, this);\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// single.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a53b924b742ab8c31885","import {\r\n\tVM\r\n} from '../vm/index.js';\r\nimport {\r\n\tajax\r\n} from '../ajax/index.js';\r\nimport {\r\n\tisFun\r\n} from '../common/common.js';\r\n\r\nclass Single {\r\n\tconstructor() {\r\n\t\tthis.Routers = [];\r\n\t\tthis.VM = VM;\r\n\t\tthis.page = null;\r\n\t\tthis.ajax = ajax;\r\n\t\tlet me = this;\r\n\t\twindow.addEventListener('load', function() {\r\n\t\t\tme.urlChange();\r\n\t\t});\r\n\t\twindow.addEventListener('hashchange', function() {\r\n\t\t\tme.urlChange();\r\n\t\t});\r\n\t}\r\n\r\n\turlChange() {\r\n\t\tlet router = this.getRouter();\r\n\t\tif(router){\r\n\t\t\tthis.loadTemplate(router.tempUrl,router.ctrUrl);\r\n\t\t}\r\n\t}\r\n\r\n\tgetRouter() {\r\n\t\tlet curURL = this.getURL(),\r\n\t\t\trouter = this.Routers.find(function(item) {\r\n\t\t\t\treturn item.url === curURL;\r\n\t\t\t});\r\n\t\treturn router ? router : this.Routers[0];\r\n\t}\r\n\r\n\tgetURL() {\r\n\t\treturn location.hash.split(\"?\")[0].split(\"#\")[1];\r\n\t}\r\n\r\n\tloadScript(url) {\r\n\t\tlet script = document.createElement('script'),\r\n\t\t\tme = this;\r\n\t\tscript.src = url;\r\n\t\tscript.async = true;\r\n\t\tscript.onload = function() {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tif(isFun(me.page)){\r\n\t\t\t\tme.page();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n\r\n\tloadTemplate(tempUrl,ctrUrl) {\r\n\t\tlet me = this;\r\n\t\tme.ajax({\r\n\t\t\ttype: 'GET',\r\n\t\t\turl: tempUrl,\r\n\t\t\tasync:false,\r\n\t\t\tsuccess: function(result) {\r\n\t\t\t\tdocument.getElementById('sp-app').innerHTML = result;\r\n\t\t\t\tme.loadScript(ctrUrl);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nwindow.Single = new Single();\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","export let regText = /\\{\\{(.+)\\}\\}/;\r\n\r\nexport function isObject(val) {\r\n\treturn typeof val === 'object';\r\n}\r\n\r\nexport function isPlainObj(val) {\r\n\treturn Object.prototype.toString.call(val) === '[object Object]';\r\n}\r\n\r\nexport function isArray(val) {\r\n\treturn Array.isArray(val);\r\n}\r\n\r\nexport function isFun(val) {\r\n\treturn typeof val === 'function';\r\n}\r\n\r\nexport function err(str) {\r\n\tthrow new Error(str);\r\n}\r\n\r\nexport function isEleNode(node) {\r\n\treturn node.nodeType === 1;\r\n}\r\n\r\nexport function isAttrNode(node) {\r\n\treturn node.nodeType === 2;\r\n}\r\n\r\nexport function isTextNode(node) {\r\n\treturn node.nodeType === 3;\r\n}\r\n\r\nexport function toArray(val) {\r\n\treturn [].slice.call(val);\r\n}\r\n\r\nexport function isDir(str) {\r\n\treturn str.indexOf('s-') === 0;\r\n}\r\n\r\nexport function isEventDir(str) {\r\n\treturn str.indexOf('on') === 0;\r\n}\r\n\r\nexport function isForDir(str) {\r\n\treturn str.indexOf('for') === 0;\r\n}\r\n\r\nexport function insertAfter(newNode, target) {\r\n\tvar parent = target.parentNode;\r\n\tif (parent.lastElementChild == target) {\r\n\t\tparent.appendChild(newNode);\r\n\t} else {\r\n\t\tparent.insertBefore(newNode, target.nextSibling);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/common.js","import {\r\n\tisFun,\r\n\tregText\r\n} from '../common/common.js';\r\nimport {\r\n\tWatcher\r\n} from '../watcher/index.js';\r\nimport {\r\n\tForDir\r\n} from './forDir.js';\r\nimport {\r\n\tIfDir\r\n} from './ifDir.js';\r\n\r\n/**\r\n * [dirUnit 指令-数据绑定单元]\r\n * @包含各指令方法 [test | event]\r\n */\r\nexport const dirUnit = {\r\n\r\n\t/**\r\n\t * [v-text指令 \\ {{.+}}绑定数据修改函数]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n\ttext: (node, vm, keys) => {\r\n\t\tdirUnit._bind(node, vm, keys, 'text');\r\n\t},\r\n\tif:(node, vm, keys)=> new IfDir(node, vm, keys),\r\n\tfor: (node, vm, keys) => new ForDir(node, vm, keys),\r\n\r\n\t/**\r\n\t * [v-html指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n\thtml: (node, vm, keys) => {\r\n\t\tdirUnit._bind(node, vm, keys, 'html');\r\n\t},\r\n\r\n\t/**\r\n\t * [v-class指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n\tclass: (node, vm, keys) => {\r\n\t\tdirUnit._bind(node, vm, keys, 'class');\r\n\t},\r\n\r\n\t/**\r\n\t * [v-model指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n\tmodel: (node, vm, keys) => {\r\n\t\tdirUnit._bind(node, vm, keys, 'model');\r\n\t\tlet me = this,\r\n\t\t\t_data = vm.$data,\r\n\t\t\toldVal = dirUnit._getVal(keys, _data);\r\n\t\tnode.addEventListener('input', (event) => {\r\n\t\t\toldVal = dirUnit._getVal(keys, _data);\r\n\t\t\tlet ev = event || window.event,\r\n\t\t\t\tval = ev.target.value;\r\n\t\t\tif (val == oldVal) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdirUnit._setVal(keys, _data, val);\r\n\r\n\t\t}, true);\r\n\t},\r\n\r\n\t/**\r\n\t * [v-on:ev 事件指令]\r\n\t * @param  {[type]} node   [需要更新的节点]\r\n\t * @param  {[type]} vm     [创建的全局对象]\r\n\t * @param  {[type]} dirVal [指令中的值]\r\n\t * @param  {[type]} dir    [指令名]\r\n\t */\r\n\tevent: (node, vm, dirVal, dir) => {\r\n\t\tlet ev = dir.split(':')[1],\r\n\t\t\tfn = vm.$opts.event[dirVal];\r\n\t\tif (isFun(fn)) {\r\n\t\t\tnode.addEventListener(ev, fn.bind(vm), false);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * [将节点值与数据进行绑定，当数据修改时，遍历该数据所有订阅者dep.sub，调用 Watcher 中的匿名函数]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {[type]} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t * @param  {[type]} dir  [指令名]\r\n\t */\r\n\t_bind: (node, vm, keys, dir) => {\r\n\t\tlet fn = upper[dir + 'Upper'];\r\n\t\tisFun(fn) && fn(node, dirUnit._getVal(keys, vm.$data));\r\n\t\tif (dir === 'model') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnew Watcher(vm, keys, (newVal, val) => {\r\n\t\t\tisFun(fn) && fn(node, newVal, val);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * [根据指令值获取绑定的数据值]\r\n\t * @param  {[str]} keys [指令中对应的数据位置]\r\n\t * @param  {[obj]} val  [数据所在位置 / 数据]\r\n\t */\r\n\t_getVal: (keys, data) => {\r\n\t\tkeys.split('.').forEach(function(key) {\r\n\t\t\tdata = data[key];\r\n\t\t});\r\n\t\treturn data;\r\n\t},\r\n\r\n\t/**\r\n\t * [设置data中的某项的值，触发set]\r\n\t * @param  {[str]} keys [指令中对应的数据位置]\r\n\t * @param  {[obj]} data [new Single() 参数对象 data]\r\n\t * @param  {[any]} val  [新值]\r\n\t */\r\n\t_setVal: (keys, data, val) => {\r\n\t\tlet _keys = keys.split('.'),\r\n\t\t\tlen = _keys.length - 1;\r\n\t\t_keys.forEach((key, i) => {\r\n\t\t\tif (i == len) {\r\n\t\t\t\tdata[key] = val;\r\n\t\t\t} else {\r\n\t\t\t\tdata = data[key];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * [upper 指令更新单元]\r\n * @param  {[str]} node \t[绑定节点]\r\n * @param  {[obj]} newVla [新值]\r\n * @param  {[any]} val  \t[原值]\r\n */\r\nconst upper = {\r\n\ttextUpper: (node, newVal, oldVal) => {\r\n\t\tnode.textContent = node.textContent.replace((oldVal ? oldVal : regText), newVal);\r\n\t},\r\n\r\n\thtmlUpper: (node, newVal) => {\r\n\t\tnode.innerHTML = newVal;\r\n\t},\r\n\r\n\tmodelUpper: (node, newVal, val) => {\r\n\t\tnode.value = newVal ? newVal : '';\r\n\t},\r\n\r\n\tclassUpper: (node, newVal, val) => {\r\n\t\tnode.className = (val ?\r\n\t\t\tnode.className.replace(val, newVal) : (node.className + (newVal ? ' ' : '') + newVal)).trim();\r\n\t}\r\n}\r\n\r\nexport function changHtml(html) {\r\n\treturn document.createRange().createContextualFragment(html);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/index.js","export let target = null;\r\n\r\n/**\r\n * 订阅者对象\r\n */\r\nexport class Watcher {\r\n\tconstructor(vm, keys, fn) {\r\n\t\tthis.$vm = vm;\r\n\t\tthis.$keys = keys;\r\n\t\tthis._fn = fn;\r\n\t\tthis.depIds = {};\r\n\t\tthis.val = this.get();\r\n\t}\r\n\r\n\t/**\r\n\t * [get 获取数据原始值]\r\n\t */\r\n\tget() {\r\n\t\ttarget = this;\r\n\t\tlet val = this.getVal();\r\n\t\ttarget = null;\r\n\t\treturn val;\r\n\t}\r\n\r\n\t/**\r\n\t * [getVal 遍历keys获取属性值，并出发数据get方法，get方法中触发watcher.addDep]\r\n\t */\r\n\tgetVal() {\r\n\t\tlet keys = this.$keys.split('.'),\r\n\t\t\tval = this.$vm.$data;\r\n\t\tkeys.forEach((key) => {\r\n\t\t\tval = val[key];\r\n\t\t});\r\n\t\treturn val;\r\n\t}\r\n\r\n\t/**\r\n\t * [addDep 将Dep加入Watcher.depIds，触发Dep.addSub]\r\n\t * @param {[type]} dep [Dep对象]\r\n\t */\r\n\taddDep(dep) {\r\n\t\tif (!this.depIds.hasOwnProperty(dep.id)) {\r\n\t\t\tthis.depIds[dep.id] = dep;\r\n\t\t\tdep.addSub(this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [update dirUnit._bind中传入的参数]\r\n\t */\r\n\tupdate() {\r\n\t\tlet newVal = this.get(),\r\n\t\t\tval = this.val;\r\n\t\tif (val == newVal) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.val = newVal;\r\n\t\tthis._fn.call(this.$vm, newVal, val);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/watcher/index.js","import {\r\n\tisEleNode,\r\n\tisTextNode,\r\n\tisDir,\r\n\tisEventDir,\r\n\tisForDir,\r\n\ttoArray,\r\n\tregText\r\n} from '../common/common.js';\r\nimport {\r\n\tdirUnit\r\n} from '../directive/index.js';\r\n\r\n\r\nexport class Compile {\r\n\tconstructor(el, vm) {\r\n\t\tthis.$vm = vm;\r\n\t\tthis.$opts = this.$vm.$opts;\r\n\t\tthis.$data = this.$opts.data;\r\n\t\tthis.$el = el.nodeType ? el : document.querySelector(el);\r\n\r\n\t\tif (this.$el) {\r\n\t\t\tlet frag = this.node2Fragment(this.$el);\r\n\t\t\tthis.analyEleNode(frag);\r\n\t\t\tthis.$el.appendChild(frag);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [node2Fragment 将节点放入文档碎片]\r\n\t * @param  {[type]} node [节点]\r\n\t */\r\n\tnode2Fragment(node) {\r\n\t\tlet frag = document.createDocumentFragment(),\r\n\t\t\tchild;\r\n\t\twhile (child = node.firstChild) {\r\n\t\t\tfrag.appendChild(child);\r\n\t\t}\r\n\t\treturn frag;\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * [analyEleNode 解析模板对模板中的指令进行解析]\r\n\t * @param  {node} el [ 开始节点（递归） ]\r\n\t * @return {[undefined]}\r\n\t */\r\n\tanalyEleNode(el) {\r\n\t\tlet child = el.childNodes,\r\n\t\t\tme = this;\r\n\t\ttoArray(child).forEach((node) => {\r\n\t\t\tif (isEleNode(node)) { //若为元素节点对其属性节点进行遍历\r\n\t\t\t\tme.analyArrtNode(node);\r\n\t\t\t} else if (isTextNode(node) && regText.test(node.textContent)) {\r\n\t\t\t\tdirUnit.text(node, me.$vm, RegExp.$1.trim());\r\n\t\t\t}\r\n\t\t\tif (node.parentNode && node.childNodes && node.childNodes.length > -1) {\r\n\t\t\t\tme.analyEleNode(node);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * [analyArrtNode 对元素节点的属性进行遍历，找出其中指令]\r\n\t * @param  {[node]} node [需要遍历属性的节点]\r\n\t * @return {[undefined]}\r\n\t */\r\n\tanalyArrtNode(node) {\r\n\t\tlet attrs = node.attributes,\r\n\t\t\tme = this,\r\n\t\t\tattrName = '';\r\n\r\n\t\ttoArray(attrs).forEach((attr) => {\r\n\t\t\tattrName = attr.name;\r\n\t\t\tif (isDir(attrName)) {\r\n\t\t\t\tlet dirName = attrName.split('-')[1],\r\n\t\t\t\t\tdirVal = attr.value.trim();\r\n\t\t\t\tif (isEventDir(dirName)) {\r\n\t\t\t\t\tdirUnit.event(node, me.$vm, dirVal, dirName);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdirUnit[dirName](node, me.$vm, dirVal);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/compile/index.js","\r\nlet jsonpId = 0\r\nexport function ajax(aD) {\r\n\tif (!aD.url) throw new Error('请输入正确的URL!');\r\n\taD.type = aD.type || 'GET';\r\n\taD.async = aD.async || true;\r\n\taD.data = encodeFormat(aD.data);\r\n\taD.url = aD.type == 'POST' ? aD.url : aD.url + (aD.url.indexOf('?') == -1 ? '?' : '&') + aD.data;\r\n\tif (aD.type == 'jsonp') {\r\n\t\tajaxJsonp(aD);\r\n\t\treturn false;\r\n\t}\r\n\tlet re = new XMLHttpRequest;\r\n\tre.open(aD.type, aD.url, aD.async);\r\n\tre.onreadystatechange = function() {\r\n\t\tif (re.readyState == 4 && aD.success) {\r\n\t\t\taD.success(re.response);\r\n\t\t}\r\n\t}\r\n\tre.send(aD.type === 'GET' ? null : aD.data);\r\n}\r\n\r\nfunction encodeFormat(obj) {\r\n\tif (!obj) return '';\r\n\treturn Object.keys(obj).reduce((re, item) => re += '&' + item + '=' + obj[item], '').slice(1);\r\n}\r\n\r\nfunction ajaxJsonp(ao) {\r\n\tif (!ao.jsonp) throw new Error('请输入函数名称');\r\n\tlet fnName = 'jsonp' + '_' + (jsonpId++);\r\n\tao.url = ao.url + ao.jsonp + '=' + fnName;\r\n\tlet script = document.createElement('script');\r\n\tglobal[fnName] = function(response) {\r\n\t\ttry {\r\n\t\t\tao.success(response);\r\n\t\t} finally {\r\n\t\t\tdelete global[fnName];\r\n\t\t\tscript.parentNode.removeChild(script);\r\n\t\t}\r\n\t}\r\n\tscript.src = ao.url;\r\n\tdocument.body.appendChild(script);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ajax/index.js","import { isArray } from '../common/common.js'\r\n\r\n/**\r\n * [arrayInit 数组扩展函数]\r\n * @return {[type]} [description]\r\n */\r\nexport let arrayInit = function(){\r\n\r\n\t/**\r\n\t * [_copy 浅拷贝数组]\r\n\t */\r\n\tArray.prototype._copy = function(){\r\n\t\treturn [].slice.call(this);\r\n\t}\r\n\r\n\t/**\r\n\t * [_del 删除数组制定下标的元素]\r\n\t * @param  {[type]} index [数组下标]\r\n\t */\r\n\tArray.prototype._del = function(index){\r\n\t\treturn this.filter((item,i)=> i !== index);\r\n\t}\r\n\r\n\t/**\r\n\t * [_pop 删除数组中第一个元素]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tArray.prototype._pop = function(){\r\n\t\treturn this._del(0);\r\n\t}\r\n\r\n\t/**\r\n\t * [_shift 删除数组最后一个元素]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tArray.prototype._shift = function(){\r\n\t\treturn this._del(this.length-1);\r\n\t}\r\n\r\n\t/**\r\n\t * [_insert 在数组指定位置插入元素]\r\n\t * @param  {[type]} index [下标]\r\n\t * @param  {[type]} item  [元素]\r\n\t */\r\n\tArray.prototype._insert = function(index,item){\r\n\t\tlet result = this._copy();\r\n\t\tresult.splice(index,0,item);\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * [_push 在数组末尾增加元素]\r\n\t * @param  {[type]} item [元素]\r\n\t */\r\n\tArray.prototype._push = function(item){\r\n\t\treturn this._insert(this.length,item);\r\n\t}\r\n\r\n\t/**\r\n\t * [_unpop 在数组开始增加元素]\r\n\t * @param  {[type]} item [元素]\r\n\t */\r\n\tArray.prototype._unpop = function(item){\r\n\t\treturn this._insert(0,item);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/arrInit/index.js","\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 发布者与订阅者关联对象\r\n */\r\nexport class Dep {\r\n\tconstructor() {\r\n\t\tthis.id = uid++;\r\n\t\tthis.sub = [];\r\n\t}\r\n\r\n\t/**\r\n\t * [addSub 在sub中增加订阅者]\r\n\t * @param {[type]} watcher [订阅者 Watcher 对象]\r\n\t */\r\n\taddSub(watcher) {\r\n\t\tthis.sub.push(watcher);\r\n\t}\r\n\r\n\t/**\r\n\t * [depend 触发 Wtacher 的add事件，将dep加入 Watcher]\r\n\t */\r\n\tdepend() {\r\n\t\ttarget.addDep(this);\r\n\t}\r\n\r\n\t/**\r\n\t * [notify 绑定数据set出发此方法，对sub中Watcher进行遍历触发update]\r\n\t */\r\n\tnotify() {\r\n\t\tthis.sub.forEach((item) => {\r\n\t\t\titem.update();\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/dep/index.js","import {\r\n\tdirUnit\r\n} from './index.js';\r\nimport {\r\n\tCompile\r\n} from '../compile/index.js';\r\nimport {\r\n\tchangHtml\r\n} from '../directive/index.js';\r\nimport {\r\n\tWatcher\r\n} from '../watcher/index.js';\r\n\r\nexport class ForDir {\r\n\tconstructor(node, vm, keys) {\r\n\t\tthis.start = null;\r\n\t\tthis.end = null;\r\n\t\tthis.init(node, vm, keys);\r\n\t}\r\n\r\n\tinit(node, vm, keys) {\r\n\t\tthis.bind(node, vm, keys);\r\n\t}\r\n\r\n\tbind(node, vm, keys) {\r\n\t\tlet arrName = keys.split('in')[1].trim(),\r\n\t\t\tme = this;\r\n\t\tme.upper(node, vm, keys);\r\n\t\tnew Watcher(vm, arrName, (val, newVal) => {\r\n\t\t\twhile (this.start.nextSibling != this.end) {\r\n\t\t\t\tthis.end.parentNode.removeChild(this.start.nextSibling);\r\n\t\t\t}\r\n\t\t\tme.upper(node, vm, keys);\r\n\t\t});\r\n\t}\r\n\r\n\tupper(node, vm, keys) {\r\n\t\tif (!this.start) {\r\n\t\t\tthis.start = document.createComment('start of s-for');\r\n\t\t\tnode.parentNode.insertBefore(this.start, node);\r\n\t\t}\r\n\t\tif (!this.end) {\r\n\t\t\tthis.end = document.createComment('end of s-for');\r\n\t\t\tnode.parentNode.insertBefore(this.end, node);\r\n\t\t}\r\n\r\n\t\tnode.removeAttribute('s-for');\r\n\t\tlet item = keys.split('in')[0].trim(),\r\n\t\t\tarrName = keys.split('in')[1].trim(),\r\n\t\t\tarr = dirUnit._getVal(arrName, vm.$data),\r\n\t\t\thtml = node.outerHTML,\r\n\t\t\tbox = '';\r\n\t\tfor (let i = 0, len = arr.length; i < len; i++) {\r\n\t\t\tbox += html.replace(item, arrName + '.' + i);\r\n\t\t};\r\n\t\tbox = changHtml(box);\r\n\t\tnew Compile(box, vm);\r\n\t\tthis.end.parentNode.insertBefore(box, this.end);\r\n\r\n\t\tif (node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/forDir.js","import {\r\n\tdirUnit\r\n} from './index.js';\r\nimport {\r\n\tCompile\r\n} from '../compile/index.js';\r\nimport {\r\n\tchangHtml\r\n} from '../directive/index.js';\r\nimport {\r\n\tWatcher\r\n} from '../watcher/index.js';\r\n\r\nexport class IfDir {\r\n\tconstructor(node, vm, keys) {\r\n\t\tthis.start = null;\r\n\t\tthis.end = null;\r\n\t\tthis.init(node, vm, keys);\r\n\t}\r\n\r\n\tinit(node, vm, keys) {\r\n\t\tthis.bind(node, vm, keys);\r\n\t}\r\n\r\n\tbind(node, vm, keys) {\r\n\t\tlet me = this;\r\n\t\tnew Compile(node,vm);\r\n\t\tme.upper(node, vm, keys,dirUnit._getVal(keys,vm.$data));\r\n\t\tnew Watcher(vm, keys, (newVal, val) => {\r\n\t\t\tif(!!newVal == !!val){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.upper(node, vm, keys,newVal);\r\n\t\t});\r\n\t}\r\n\r\n\tupper(node, vm, keys,newVal,val) {\r\n\t\tif (!this.start) {\r\n\t\t\tthis.start = document.createComment('start of s-if');\r\n\t\t\tnode.parentNode.insertBefore(this.start, node);\r\n\t\t}\r\n\t\tif (!this.end) {\r\n\t\t\tthis.end = document.createComment('end of s-if');\r\n\t\t\tnode.parentNode.insertBefore(this.end, node);\r\n\t\t}\r\n\t\tif(node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t\tif(newVal){\r\n\t\t\tthis.end.parentNode.insertBefore(node,this.end);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/ifDir.js","import { isObject,isArray,isFun } from '../common/common.js';\r\nimport { Dep } from '../dep/index.js';\r\nimport { target } from '../watcher/index.js';\r\n\r\n/**\r\n * 发布者对象\r\n */\r\nexport class Observe{\r\n\tconstructor(data){\r\n\t\tif(!isObject(data)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.walk(data);\r\n\t}\r\n\r\n\t/**\r\n\t * [walk 对数据中属性进行遍历劫持]\r\n\t * @param  {[type]} data [待劫持数据]\r\n\t */\r\n\twalk(data){\r\n\t\tlet me = this,\r\n\t\t\t\thadProperty = Object.getOwnPropertyDescriptor;\r\n\t\tObject.keys(data).forEach(function(key){\r\n\t\t\tif(isFun(hadProperty(data,key).set)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.convert(data,key,data[key]);\r\n\t\t});\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * [convert 递归数据劫持]\r\n\t * @param  {[type]} data  [待劫持数据]\r\n\t * @param  {[type]} key   [待劫持数据属性名]\r\n\t * @param  {[type]} value [待劫持数据值]\r\n\t */\r\n\tconvert(data,key,value){\r\n\t\tlet ob = this,\r\n\t\t\t\tchildren = new Observe(value),\r\n\t\t\t\tdep = new Dep();\r\n\t\tObject.defineProperty(data,key,{\r\n\t\t\tconfigurable:false,\r\n\t\t\tenumerable:true,\r\n\t\t\tget:function (){\r\n\t\t\t\ttarget && target.addDep(dep);\r\n\t\t\t\treturn value;\r\n\t\t\t},\r\n\t\t\tset:function (newVal) {\r\n\t\t\t\tif(value == newVal){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = newVal;\r\n\t\t\t\tchildren = new Observe(newVal);\r\n\t\t\t\tdep.notify();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/observe/index.js","import { err,isFun } from '../common/common.js';\r\nimport { arrayInit } from '../arrInit/index.js';\r\nimport { Observe } from '../observe/index.js';\r\nimport { Compile } from '../compile/index.js';\r\n\r\n/**\r\n * 入口对象\r\n */\r\nexport class VM {\r\n\tconstructor(options){\r\n\t\tarrayInit();\r\n\t\tthis.$opts = options;\r\n\t\tthis.$data = options.data;\r\n\t\tif(isFun(options)){\r\n\t\t\toptions.data = options.data();\r\n\t\t}\r\n\t\tnew Observe(options.data);\r\n\r\n\t\tthis.$compile = new Compile(options.el || document.body,this);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vm/index.js"],"sourceRoot":""}