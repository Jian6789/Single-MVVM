{"version":3,"sources":["webpack:///single.min.js","webpack:///webpack/bootstrap 0fdd1fd9a2bd5ed0d5c4","webpack:///./src/main/index.js","webpack:///./src/common/common.js","webpack:///./src/directive/index.js","webpack:///./src/watcher/index.js","webpack:///./src/compile/index.js","webpack:///./src/ajax/index.js","webpack:///./src/dep/index.js","webpack:///./src/directive/forDir.js","webpack:///./src/directive/ifDir.js","webpack:///./src/observe/index.js","webpack:///./src/vm/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_index","_index2","_common","Single","this","Routers","VM","page","ajax","me","window","addEventListener","urlChange","value","router","getRouter","loadTemplate","tempUrl","ctrUrl","curURL","getURL","location","hash","split","url","script","document","createElement","src","async","onload","body","removeChild","isFun","appendChild","type","success","result","getElementById","innerHTML","loadScript","isObject","val","undefined","_typeof","isPlainObj","toString","isArray","Array","err","str","Error","isEleNode","node","nodeType","isAttrNode","isTextNode","toArray","slice","isDir","indexOf","isEventDir","isForDir","insertAfter","newNode","parent","parentNode","lastElementChild","insertBefore","nextSibling","Symbol","iterator","obj","constructor","regText","changHtml","html","createRange","createContextualFragment","dirUnit","_forDir","_ifDir","text","vm","keys","_bind","if","IfDir","for","ForDir","class","model","_data","$data","oldVal","_getVal","event","ev","_setVal","dirVal","dir","fn","$opts","bind","upper","Watcher","newVal","data","forEach","_keys","len","textUpper","textContent","replace","htmlUpper","modelUpper","classUpper","className","trim","$vm","$keys","_fn","depIds","get","getVal","dep","hasOwnProperty","addSub","Compile","el","isDel","$isDel","$el","querySelector","frag","node2Fragment","analyEleNode","createDocumentFragment","child","firstChild","childNodes","analyArrtNode","test","RegExp","$1","attrs","attributes","attrName","attr","name","dirName","global","aD","encodeFormat","header","saD","ajaxJsonp","re","XMLHttpRequest","open","toUpperCase","setRequestHeader","readyState","response","send","reduce","item","ao","jsonp","fnName","jsonpId","remove","uid","Dep","sub","watcher","push","reg","filter","match","addDep","isArr","rmSub","update","_index3","_index4","start","end","init","_this","arrName","createComment","removeAttribute","arr","outerHTML","box","Observe","walk","hadProperty","getOwnPropertyDescriptor","set","convert","children","notify","options","$observe","$compile"],"mappings":"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","file":"single.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(10);\n\t\n\tvar _index2 = __webpack_require__(5);\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Single = function () {\n\t\tfunction Single() {\n\t\t\t_classCallCheck(this, Single);\n\t\n\t\t\tthis.Routers = [];\n\t\t\tthis.VM = _index.VM;\n\t\t\tthis.page = null;\n\t\t\tthis.ajax = _index2.ajax;\n\t\t\tvar me = this;\n\t\t\twindow.addEventListener('load', function () {\n\t\t\t\tme.urlChange();\n\t\t\t});\n\t\t\twindow.addEventListener('hashchange', function () {\n\t\t\t\tme.urlChange();\n\t\t\t});\n\t\t}\n\t\n\t\t_createClass(Single, [{\n\t\t\tkey: 'urlChange',\n\t\t\tvalue: function urlChange() {\n\t\t\t\tvar router = this.getRouter();\n\t\t\t\tif (router) {\n\t\t\t\t\tthis.loadTemplate(router.tempUrl, router.ctrUrl);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRouter',\n\t\t\tvalue: function getRouter() {\n\t\t\t\tvar curURL = this.getURL(),\n\t\t\t\t    router = this.Routers[curURL];\n\t\t\t\treturn router ? router : this.Routers[0];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getURL',\n\t\t\tvalue: function getURL() {\n\t\t\t\treturn location.hash.split(\"?\")[0].split(\"#\")[1];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadScript',\n\t\t\tvalue: function loadScript(url) {\n\t\t\t\tvar script = document.createElement('script'),\n\t\t\t\t    me = this;\n\t\t\t\tscript.src = url;\n\t\t\t\tscript.async = true;\n\t\t\t\tscript.onload = function () {\n\t\t\t\t\tdocument.body.removeChild(script);\n\t\t\t\t\tif ((0, _common.isFun)(me.page)) {\n\t\t\t\t\t\tme.page();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdocument.body.appendChild(script);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loadTemplate',\n\t\t\tvalue: function loadTemplate(tempUrl, ctrUrl) {\n\t\t\t\tvar me = this;\n\t\t\t\tme.ajax({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\turl: tempUrl,\n\t\t\t\t\tasync: false,\n\t\t\t\t\tsuccess: function success(result) {\n\t\t\t\t\t\tdocument.getElementById('sp-app').innerHTML = result;\n\t\t\t\t\t\tme.loadScript(ctrUrl);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Single;\n\t}();\n\t\n\twindow.Single = new Single();\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.isObject = isObject;\n\texports.isPlainObj = isPlainObj;\n\texports.isArray = isArray;\n\texports.isFun = isFun;\n\texports.err = err;\n\texports.isEleNode = isEleNode;\n\texports.isAttrNode = isAttrNode;\n\texports.isTextNode = isTextNode;\n\texports.toArray = toArray;\n\texports.isDir = isDir;\n\texports.isEventDir = isEventDir;\n\texports.isForDir = isForDir;\n\texports.insertAfter = insertAfter;\n\tvar regText = exports.regText = /\\{\\{(.+)\\}\\}/;\n\t\n\tfunction isObject(val) {\n\t\tif (val == undefined) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object';\n\t}\n\t\n\tfunction isPlainObj(val) {\n\t\treturn Object.prototype.toString.call(val) === '[object Object]';\n\t}\n\t\n\tfunction isArray(val) {\n\t\treturn Array.isArray(val);\n\t}\n\t\n\tfunction isFun(val) {\n\t\treturn typeof val === 'function';\n\t}\n\t\n\tfunction err(str) {\n\t\tthrow new Error(str);\n\t}\n\t\n\tfunction isEleNode(node) {\n\t\treturn node.nodeType === 1;\n\t}\n\t\n\tfunction isAttrNode(node) {\n\t\treturn node.nodeType === 2;\n\t}\n\t\n\tfunction isTextNode(node) {\n\t\treturn node.nodeType === 3;\n\t}\n\t\n\tfunction toArray(val) {\n\t\treturn [].slice.call(val);\n\t}\n\t\n\tfunction isDir(str) {\n\t\treturn str.indexOf('s-') === 0;\n\t}\n\t\n\tfunction isEventDir(str) {\n\t\treturn str.indexOf('on') === 0;\n\t}\n\t\n\tfunction isForDir(str) {\n\t\treturn str.indexOf('for') === 0;\n\t}\n\t\n\tfunction insertAfter(newNode, target) {\n\t\tvar parent = target.parentNode;\n\t\tif (parent.lastElementChild == target) {\n\t\t\tparent.appendChild(newNode);\n\t\t} else {\n\t\t\tparent.insertBefore(newNode, target.nextSibling);\n\t\t}\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.dirUnit = undefined;\n\texports.changHtml = changHtml;\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(3);\n\t\n\tvar _forDir = __webpack_require__(7);\n\t\n\tvar _ifDir = __webpack_require__(8);\n\t\n\t/**\r\n\t * [dirUnit 指令-数据绑定单元]\r\n\t * @包含各指令方法 [test | event]\r\n\t */\n\tvar dirUnit = exports.dirUnit = {\n\t\n\t    /**\r\n\t     * [v-text指令 \\ {{.+}}绑定数据修改函数]\r\n\t     * @param  {[type]} node [需要更新的节点]\r\n\t     * @param  {Single} vm   [创建的全局对象]\r\n\t     * @param  {[type]} keys [指令中对应的数据位置]\r\n\t     */\n\t    text: function text(node, vm, keys) {\n\t        dirUnit._bind(node, vm, keys, 'text');\n\t    },\n\t    if: function _if(node, vm, keys) {\n\t        return new _ifDir.IfDir(node, vm, keys);\n\t    },\n\t\n\t    for: function _for(node, vm, keys) {\n\t        return new _forDir.ForDir(node, vm, keys);\n\t    },\n\t\n\t    /**\r\n\t     * [v-html指令]\r\n\t     * @param  {[type]} node [需要更新的节点]\r\n\t     * @param  {Single} vm   [创建的全局对象]\r\n\t     * @param  {[type]} keys [指令中对应的数据位置]\r\n\t     */\n\t    html: function html(node, vm, keys) {\n\t        dirUnit._bind(node, vm, keys, 'html');\n\t    },\n\t\n\t    /**\r\n\t     * [v-class指令]\r\n\t     * @param  {[type]} node [需要更新的节点]\r\n\t     * @param  {Single} vm   [创建的全局对象]\r\n\t     * @param  {[type]} keys [指令中对应的数据位置]\r\n\t     */\n\t    class: function _class(node, vm, keys) {\n\t        dirUnit._bind(node, vm, keys, 'class');\n\t    },\n\t\n\t    /**\r\n\t     * [v-model指令]\r\n\t     * @param  {[type]} node [需要更新的节点]\r\n\t     * @param  {Single} vm   [创建的全局对象]\r\n\t     * @param  {[type]} keys [指令中对应的数据位置]\r\n\t     */\n\t    model: function model(node, vm, keys) {\n\t        dirUnit._bind(node, vm, keys, 'model');\n\t        var me = undefined,\n\t            _data = vm.$data,\n\t            oldVal = dirUnit._getVal(keys, _data);\n\t        node.addEventListener('input', function (event) {\n\t            oldVal = dirUnit._getVal(keys, _data);\n\t            var ev = event || window.event,\n\t                val = ev.target.value;\n\t            if (val == oldVal) {\n\t                return;\n\t            }\n\t            dirUnit._setVal(keys, _data, val);\n\t        }, true);\n\t    },\n\t    /**\r\n\t     * [v-on:ev 事件指令]\r\n\t     * @param  {[type]} node   [需要更新的节点]\r\n\t     * @param  {[type]} vm     [创建的全局对象]\r\n\t     * @param  {[type]} dirVal [指令中的值]\r\n\t     * @param  {[type]} dir    [指令名]\r\n\t     */\n\t    event: function event(node, vm, dirVal, dir) {\n\t        var ev = dir.split(':')[1],\n\t            fn = vm.$opts.event[dirVal];\n\t        if ((0, _common.isFun)(fn)) {\n\t            node.addEventListener(ev, fn.bind(vm), false);\n\t        }\n\t    },\n\t\n\t    /**\r\n\t     * [将节点值与数据进行绑定，当数据修改时，遍历该数据所有订阅者dep.sub，调用 Watcher 中的匿名函数]\r\n\t     * @param  {[type]} node [需要更新的节点]\r\n\t     * @param  {[type]} vm   [创建的全局对象]\r\n\t     * @param  {[type]} keys [指令中对应的数据位置]\r\n\t     * @param  {[type]} dir  [指令名]\r\n\t     */\n\t    _bind: function _bind(node, vm, keys, dir) {\n\t        var fn = upper[dir + 'Upper'];\n\t        (0, _common.isFun)(fn) && fn(node, dirUnit._getVal(keys, vm.$data));\n\t        new _index.Watcher(vm, keys, function (newVal, val) {\n\t            (0, _common.isFun)(fn) && fn(node, newVal, val);\n\t        });\n\t    },\n\t\n\t    /**\r\n\t     * [根据指令值获取绑定的数据值]\r\n\t     * @param  {[str]} keys [指令中对应的数据位置]\r\n\t     * @param  {[obj]} val  [数据所在位置 / 数据]\r\n\t     */\n\t    _getVal: function _getVal(keys, data) {\n\t        keys.split('.').forEach(function (key) {\n\t            data = data[key];\n\t        });\n\t        return data;\n\t    },\n\t\n\t    /**\r\n\t     * [设置data中的某项的值，触发set]\r\n\t     * @param  {[str]} keys [指令中对应的数据位置]\r\n\t     * @param  {[obj]} data [new Single() 参数对象 data]\r\n\t     * @param  {[any]} val  [新值]\r\n\t     */\n\t    _setVal: function _setVal(keys, data, val) {\n\t        var _keys = keys.split('.'),\n\t            len = _keys.length - 1;\n\t        _keys.forEach(function (key, i) {\n\t            if (i == len) {\n\t                data[key] = val;\n\t            } else {\n\t                data = data[key];\n\t            }\n\t        });\n\t    }\n\t};\n\t\n\t/**\r\n\t * [upper 指令更新单元]\r\n\t * @param  {[str]} node \t[绑定节点]\r\n\t * @param  {[obj]} newVla [新值]\r\n\t * @param  {[any]} val  \t[原值]\r\n\t */\n\tvar upper = {\n\t    textUpper: function textUpper(node, newVal, oldVal) {\n\t        oldVal = oldVal != undefined ? oldVal + '' : _common.regText;\n\t        node.textContent = node.textContent.replace(oldVal, newVal);\n\t    },\n\t\n\t    htmlUpper: function htmlUpper(node, newVal) {\n\t        node.innerHTML = newVal;\n\t    },\n\t\n\t    modelUpper: function modelUpper(node, newVal, val) {\n\t        node.value = newVal ? newVal : '';\n\t    },\n\t\n\t    classUpper: function classUpper(node, newVal, val) {\n\t        node.className = (val ? node.className.replace(val, newVal) : node.className + ' ' + newVal).trim();\n\t    }\n\t};\n\t\n\tfunction changHtml(html) {\n\t    return document.createRange().createContextualFragment(html);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar target = exports.target = null;\n\t\n\t/**\r\n\t * 订阅者对象\r\n\t */\n\t\n\tvar Watcher = exports.Watcher = function () {\n\t\tfunction Watcher(vm, keys, fn) {\n\t\t\t_classCallCheck(this, Watcher);\n\t\n\t\t\tthis.$vm = vm;\n\t\t\tthis.$keys = keys;\n\t\t\tthis._fn = fn;\n\t\t\tthis.depIds = {};\n\t\t\tthis.val = this.get();\n\t\t}\n\t\n\t\t/**\r\n\t  * [get 获取数据原始值]\r\n\t  */\n\t\n\t\n\t\t_createClass(Watcher, [{\n\t\t\tkey: 'get',\n\t\t\tvalue: function get() {\n\t\t\t\texports.target = target = this;\n\t\t\t\tvar val = this.getVal();\n\t\t\t\texports.target = target = null;\n\t\t\t\treturn val;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [getVal 遍历keys获取属性值，并出发数据get方法，get方法中触发watcher.addDep]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getVal',\n\t\t\tvalue: function getVal() {\n\t\t\t\tvar keys = this.$keys.split('.'),\n\t\t\t\t    val = this.$vm.$data;\n\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\tval = val[key];\n\t\t\t\t});\n\t\t\t\treturn val;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [addDep 将Dep加入Watcher.depIds，触发Dep.addSub]\r\n\t   * @param {[type]} dep [Dep对象]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'addDep',\n\t\t\tvalue: function addDep(dep) {\n\t\t\t\tif (!this.depIds.hasOwnProperty(dep.id)) {\n\t\t\t\t\tthis.depIds[dep.id] = dep;\n\t\t\t\t\tdep.addSub(this);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [update dirUnit._bind中传入的参数]\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\t\t\tvar newVal = this.get(),\n\t\t\t\t    val = this.val;\n\t\t\t\tif (val == newVal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.val = newVal;\n\t\t\t\tthis._fn.call(this.$vm, newVal, val, this);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Watcher;\n\t}();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Compile = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Compile = exports.Compile = function () {\n\t\tfunction Compile(el, vm, isDel) {\n\t\t\t_classCallCheck(this, Compile);\n\t\n\t\t\tthis.$vm = vm;\n\t\t\tthis.$opts = this.$vm.$opts;\n\t\t\tthis.$data = this.$opts.data;\n\t\t\tthis.$isDel = isDel || false;\n\t\t\tthis.$el = el.nodeType ? el : document.querySelector(el);\n\t\n\t\t\tif (this.$el) {\n\t\t\t\tvar frag = this.node2Fragment(this.$el);\n\t\t\t\tthis.analyEleNode(frag);\n\t\t\t\tthis.$el.appendChild(frag);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\r\n\t  * [node2Fragment 将节点放入文档碎片]\r\n\t  * @param  {[type]} node [节点]\r\n\t  */\n\t\n\t\n\t\t_createClass(Compile, [{\n\t\t\tkey: 'node2Fragment',\n\t\t\tvalue: function node2Fragment(node) {\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t    child = void 0;\n\t\t\t\twhile (child = node.firstChild) {\n\t\t\t\t\tfrag.appendChild(child);\n\t\t\t\t}\n\t\t\t\treturn frag;\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [analyEleNode 解析模板对模板中的指令进行解析]\r\n\t   * @param  {node} el [ 开始节点（递归） ]\r\n\t   * @return {[undefined]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'analyEleNode',\n\t\t\tvalue: function analyEleNode(el) {\n\t\t\t\tvar child = el.childNodes,\n\t\t\t\t    me = this;\n\t\t\t\t(0, _common.toArray)(child).forEach(function (node) {\n\t\t\t\t\tif ((0, _common.isEleNode)(node)) {\n\t\t\t\t\t\t//若为元素节点对其属性节点进行遍历\n\t\t\t\t\t\tme.analyArrtNode(node);\n\t\t\t\t\t} else if ((0, _common.isTextNode)(node) && _common.regText.test(node.textContent)) {\n\t\t\t\t\t\t_index.dirUnit.text(node, me.$vm, RegExp.$1.trim());\n\t\t\t\t\t}\n\t\t\t\t\tif (node.parentNode && node.childNodes && node.childNodes.length > -1) {\n\t\t\t\t\t\tme.analyEleNode(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * [analyArrtNode 对元素节点的属性进行遍历，找出其中指令]\r\n\t   * @param  {[node]} node [需要遍历属性的节点]\r\n\t   * @return {[undefined]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'analyArrtNode',\n\t\t\tvalue: function analyArrtNode(node) {\n\t\t\t\tvar attrs = node.attributes,\n\t\t\t\t    me = this,\n\t\t\t\t    attrName = '';\n\t\n\t\t\t\t(0, _common.toArray)(attrs).forEach(function (attr) {\n\t\t\t\t\tattrName = attr.name;\n\t\t\t\t\tif ((0, _common.isDir)(attrName)) {\n\t\t\t\t\t\tvar dirName = attrName.split('-')[1],\n\t\t\t\t\t\t    dirVal = attr.value.trim();\n\t\t\t\t\t\tif ((0, _common.isEventDir)(dirName)) {\n\t\t\t\t\t\t\t_index.dirUnit.event(node, me.$vm, dirVal, dirName);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_index.dirUnit[dirName](node, me.$vm, dirVal);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (_common.regText.test(attr.textContent)) {\n\t\t\t\t\t\t_index.dirUnit.text(attr, me.$vm, RegExp.$1.trim());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\n\t\treturn Compile;\n\t}();\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ajax = ajax;\n\t\n\tvar jsonpId = 0;\n\t\n\tfunction ajax(aD) {\n\t\tif (!aD.url) throw new Error('请输入正确的URL!');\n\t\n\t\taD.type = aD.type || 'GET';\n\t\taD.async = aD.async || true;\n\t\taD.data = encodeFormat(aD.data);\n\t\taD.header = aD.header || \"application/x-www-form-urlencoded\";\n\t\taD.url = aD.type == 'POST' ? saD.url : aD.url + (aD.url.indexOf('?') == -1 ? '?' : '&') + aD.data;\n\t\n\t\tif (aD.type == 'jsonp') {\n\t\t\tajaxJsonp(aD);\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar re = new XMLHttpRequest();\n\t\n\t\tre.open(aD.type, aD.url, aD.async);\n\t\taD.type.toUpperCase == 'POST' && re.setRequestHeader(\"content-type\", aD.header);\n\t\n\t\tre.addEventListener('readystatechange', function () {\n\t\t\treturn re.readyState == 4 && aD.success && aD.success(re.response);\n\t\t});\n\t\tre.send(aD.type === 'GET' ? null : aD.data);\n\t}\n\t\n\tfunction encodeFormat(obj) {\n\t\treturn !obj ? '' : Object.keys(obj).reduce(function (re, item) {\n\t\t\treturn re += '&' + item + '=' + obj[item];\n\t\t}, '').slice(1);\n\t}\n\t\n\tfunction ajaxJsonp(ao) {\n\t\tif (!ao.jsonp) throw new Error('请输入函数名称');\n\t\tvar fnName = 'jsonp' + '_' + jsonpId++;\n\t\tao.url = ao.url + (ao.url.indexOf('?') == -1 ? '?' : '&') + ao.jsonp + '=' + fnName;\n\t\tvar script = document.createElement('script');\n\t\tglobal[fnName] = function (response) {\n\t\t\ttry {\n\t\t\t\tao.success(response);\n\t\t\t} finally {\n\t\t\t\tdelete global[fnName];\n\t\t\t\tscript.remove();\n\t\t\t}\n\t\t};\n\t\tscript.src = ao.url;\n\t\tdocument.body.appendChild(script);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 发布者与订阅者关联对象\r\n\t */\n\t\n\tvar Dep = exports.Dep = function () {\n\t    function Dep() {\n\t        _classCallCheck(this, Dep);\n\t\n\t        this.id = uid++;\n\t        this.sub = [];\n\t    }\n\t\n\t    /**\r\n\t     * [addSub 在sub中增加订阅者]\r\n\t     * @param {[type]} watcher [订阅者 Watcher 对象]\r\n\t     */\n\t\n\t\n\t    _createClass(Dep, [{\n\t        key: \"addSub\",\n\t        value: function addSub(watcher) {\n\t            this.sub.push(watcher);\n\t        }\n\t    }, {\n\t        key: \"rmSub\",\n\t        value: function rmSub(sub) {\n\t            var reg = /\\.(\\d)+\\./g;\n\t            return sub.filter(function (item) {\n\t                return !item.$keys.match(reg);\n\t            });\n\t        }\n\t        /**\r\n\t         * [depend 触发 Wtacher 的add事件，将dep加入 Watcher]\r\n\t         */\n\t\n\t    }, {\n\t        key: \"depend\",\n\t        value: function depend() {\n\t            target.addDep(this);\n\t        }\n\t\n\t        /**\r\n\t         * [notify 绑定数据set出发此方法，对sub中Watcher进行遍历触发update]\r\n\t         */\n\t\n\t    }, {\n\t        key: \"notify\",\n\t        value: function notify(isArr) {\n\t            if (isArr) {\n\t                this.sub = this.rmSub(this.sub);\n\t            }\n\t            this.sub.forEach(function (item) {\n\t                item.update();\n\t            });\n\t        }\n\t    }]);\n\n\t    return Dep;\n\t}();\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ForDir = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tvar _index2 = __webpack_require__(4);\n\t\n\tvar _index3 = __webpack_require__(2);\n\t\n\tvar _index4 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ForDir = exports.ForDir = function () {\n\t\tfunction ForDir(node, vm, keys) {\n\t\t\t_classCallCheck(this, ForDir);\n\t\n\t\t\tthis.start = null;\n\t\t\tthis.end = null;\n\t\t\tthis.init(node, vm, keys);\n\t\t}\n\t\n\t\t_createClass(ForDir, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(node, vm, keys) {\n\t\t\t\tthis.bind(node, vm, keys);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bind',\n\t\t\tvalue: function bind(node, vm, keys) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar arrName = keys.split('in')[1].trim(),\n\t\t\t\t    me = this,\n\t\t\t\t    reg = /\\.(\\d)+\\./g;\n\t\t\t\tme.upper(node, vm, keys);\n\t\t\t\tnew _index4.Watcher(vm, arrName, function (val, newVal, watcher) {\n\t\t\t\t\twhile (_this.start.nextSibling != _this.end) {\n\t\t\t\t\t\t_this.end.parentNode.removeChild(_this.start.nextSibling);\n\t\t\t\t\t}\n\t\t\t\t\tme.upper(node, vm, keys);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'upper',\n\t\t\tvalue: function upper(node, vm, keys) {\n\t\t\t\tif (!this.start) {\n\t\t\t\t\tthis.start = document.createComment('start of s-for');\n\t\t\t\t\tnode.parentNode.insertBefore(this.start, node);\n\t\t\t\t}\n\t\t\t\tif (!this.end) {\n\t\t\t\t\tthis.end = document.createComment('end of s-for');\n\t\t\t\t\tnode.parentNode.insertBefore(this.end, node);\n\t\t\t\t}\n\t\n\t\t\t\tnode.removeAttribute('s-for');\n\t\t\t\tvar item = keys.split('in')[0].trim(),\n\t\t\t\t    arrName = keys.split('in')[1].trim(),\n\t\t\t\t    arr = _index.dirUnit._getVal(arrName, vm.$data),\n\t\t\t\t    html = node.outerHTML,\n\t\t\t\t    reg = new RegExp(item, 'gm'),\n\t\t\t\t    box = '';\n\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {\n\t\t\t\t\tbox += html.replace(reg, arrName + '.' + i);\n\t\t\t\t};\n\t\t\t\tbox = (0, _index3.changHtml)(box);\n\t\t\t\tnew _index2.Compile(box, vm, true);\n\t\t\t\tthis.end.parentNode.insertBefore(box, this.end);\n\t\n\t\t\t\tif (node.parentNode) {\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn ForDir;\n\t}();\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.IfDir = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(2);\n\t\n\tvar _index2 = __webpack_require__(4);\n\t\n\tvar _index3 = __webpack_require__(2);\n\t\n\tvar _index4 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar IfDir = exports.IfDir = function () {\n\t\tfunction IfDir(node, vm, keys) {\n\t\t\t_classCallCheck(this, IfDir);\n\t\n\t\t\tthis.start = null;\n\t\t\tthis.end = null;\n\t\t\tthis.init(node, vm, keys);\n\t\t}\n\t\n\t\t_createClass(IfDir, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(node, vm, keys) {\n\t\t\t\tthis.bind(node, vm, keys);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bind',\n\t\t\tvalue: function bind(node, vm, keys) {\n\t\t\t\tvar me = this;\n\t\t\t\tnew _index2.Compile(node, vm);\n\t\t\t\tme.upper(node, vm, keys, _index.dirUnit._getVal(keys, vm.$data));\n\t\t\t\tnew _index4.Watcher(vm, keys, function (newVal, val) {\n\t\t\t\t\tif (!!newVal == !!val) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tme.upper(node, vm, keys, newVal);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'upper',\n\t\t\tvalue: function upper(node, vm, keys, newVal, val) {\n\t\t\t\tif (!this.start) {\n\t\t\t\t\tthis.start = document.createComment('start of s-if');\n\t\t\t\t\tnode.parentNode.insertBefore(this.start, node);\n\t\t\t\t}\n\t\t\t\tif (!this.end) {\n\t\t\t\t\tthis.end = document.createComment('end of s-if');\n\t\t\t\t\tnode.parentNode.insertBefore(this.end, node);\n\t\t\t\t}\n\t\t\t\tif (node.parentNode) {\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t}\n\t\t\t\tif (newVal) {\n\t\t\t\t\tthis.end.parentNode.insertBefore(node, this.end);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn IfDir;\n\t}();\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Observe = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(6);\n\t\n\tvar _index2 = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * 发布者对象\r\n\t */\n\tvar Observe = exports.Observe = function () {\n\t    function Observe(data) {\n\t        _classCallCheck(this, Observe);\n\t\n\t        if (!(0, _common.isObject)(data)) {\n\t            return;\n\t        }\n\t        this.walk(data);\n\t    }\n\t\n\t    /**\r\n\t     * [walk 对数据中属性进行遍历劫持]\r\n\t     * @param  {[type]} data [待劫持数据]\r\n\t     */\n\t\n\t\n\t    _createClass(Observe, [{\n\t        key: 'walk',\n\t        value: function walk(data) {\n\t            var me = this,\n\t                hadProperty = Object.getOwnPropertyDescriptor;\n\t            Object.keys(data).forEach(function (key) {\n\t                if ((0, _common.isFun)(hadProperty(data, key).set)) {\n\t                    return;\n\t                }\n\t                me.convert(data, key, data[key]);\n\t            });\n\t        }\n\t\n\t        /**\r\n\t         * [convert 递归数据劫持]\r\n\t         * @param  {[type]} data  [待劫持数据]\r\n\t         * @param  {[type]} key   [待劫持数据属性名]\r\n\t         * @param  {[type]} value [待劫持数据值]\r\n\t         */\n\t\n\t    }, {\n\t        key: 'convert',\n\t        value: function convert(data, key, value) {\n\t            var ob = this,\n\t                children = new Observe(value),\n\t                dep = new _index.Dep();\n\t            Object.defineProperty(data, key, {\n\t                configurable: false,\n\t                enumerable: true,\n\t                get: function get() {\n\t                    _index2.target && _index2.target.addDep(dep);\n\t                    return value;\n\t                },\n\t                set: function set(newVal) {\n\t                    if (value == newVal) {\n\t                        return;\n\t                    }\n\t                    value = newVal;\n\t                    children = new Observe(newVal);\n\t                    dep.notify((0, _common.isArray)(newVal));\n\t                }\n\t            });\n\t        }\n\t    }]);\n\n\t    return Observe;\n\t}();\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.VM = undefined;\n\t\n\tvar _common = __webpack_require__(1);\n\t\n\tvar _index = __webpack_require__(9);\n\t\n\tvar _index2 = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * 入口对象\r\n\t */\n\tvar VM = exports.VM = function VM(options) {\n\t\t_classCallCheck(this, VM);\n\t\n\t\tthis.$opts = options;\n\t\tthis.$data = options.data;\n\t\tif ((0, _common.isFun)(options)) {\n\t\t\toptions.data = options.data();\n\t\t}this.$observe = new _index.Observe(options.data);\n\t\n\t\tthis.$compile = new _index2.Compile(options.el || document.body, this);\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// single.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0fdd1fd9a2bd5ed0d5c4","import {\r\n\tVM\r\n} from '../vm/index.js';\r\nimport {\r\n\tajax\r\n} from '../ajax/index.js';\r\nimport {\r\n\tisFun\r\n} from '../common/common.js';\r\n\r\nclass Single {\r\n\tconstructor() {\r\n\t\tthis.Routers = [];\r\n\t\tthis.VM = VM;\r\n\t\tthis.page = null;\r\n\t\tthis.ajax = ajax;\r\n\t\tlet me = this;\r\n\t\twindow.addEventListener('load', function() {\r\n\t\t\tme.urlChange();\r\n\t\t});\r\n\t\twindow.addEventListener('hashchange', function() {\r\n\t\t\tme.urlChange();\r\n\t\t});\r\n\t}\r\n\r\n\turlChange() {\r\n\t\tlet router = this.getRouter();\r\n\t\tif(router){\r\n\t\t\tthis.loadTemplate(router.tempUrl,router.ctrUrl);\r\n\t\t}\r\n\t}\r\n\r\n\tgetRouter() {\r\n\t\tlet curURL = this.getURL(),\r\n\t\t\trouter = this.Routers[curURL];\r\n\t\treturn router ? router : this.Routers[0];\r\n\t}\r\n\r\n\tgetURL() {\r\n\t\treturn location.hash.split(\"?\")[0].split(\"#\")[1];\r\n\t}\r\n\r\n\tloadScript(url) {\r\n\t\tlet script = document.createElement('script'),\r\n\t\t\tme = this;\r\n\t\tscript.src = url;\r\n\t\tscript.async = true;\r\n\t\tscript.onload = function() {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tif(isFun(me.page)){\r\n\t\t\t\tme.page();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n\r\n\tloadTemplate(tempUrl,ctrUrl) {\r\n\t\tlet me = this;\r\n\t\tme.ajax({\r\n\t\t\ttype: 'GET',\r\n\t\t\turl: tempUrl,\r\n\t\t\tasync:false,\r\n\t\t\tsuccess: function(result) {\r\n\t\t\t\tdocument.getElementById('sp-app').innerHTML = result;\r\n\t\t\t\tme.loadScript(ctrUrl);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nwindow.Single = new Single();\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","export let regText = /\\{\\{(.+)\\}\\}/;\r\n\r\nexport function isObject(val) {\r\n\tif(val == undefined){\r\n\t\treturn false;\r\n\t}\r\n\treturn typeof val === 'object';\r\n}\r\n\r\nexport function isPlainObj(val) {\r\n\treturn Object.prototype.toString.call(val) === '[object Object]';\r\n}\r\n\r\nexport function isArray(val) {\r\n\treturn Array.isArray(val);\r\n}\r\n\r\nexport function isFun(val) {\r\n\treturn typeof val === 'function';\r\n}\r\n\r\nexport function err(str) {\r\n\tthrow new Error(str);\r\n}\r\n\r\nexport function isEleNode(node) {\r\n\treturn node.nodeType === 1;\r\n}\r\n\r\nexport function isAttrNode(node) {\r\n\treturn node.nodeType === 2;\r\n}\r\n\r\nexport function isTextNode(node) {\r\n\treturn node.nodeType === 3;\r\n}\r\n\r\nexport function toArray(val) {\r\n\treturn [].slice.call(val);\r\n}\r\n\r\nexport function isDir(str) {\r\n\treturn str.indexOf('s-') === 0;\r\n}\r\n\r\nexport function isEventDir(str) {\r\n\treturn str.indexOf('on') === 0;\r\n}\r\n\r\nexport function isForDir(str) {\r\n\treturn str.indexOf('for') === 0;\r\n}\r\n\r\nexport function insertAfter(newNode, target) {\r\n\tvar parent = target.parentNode;\r\n\tif (parent.lastElementChild == target) {\r\n\t\tparent.appendChild(newNode);\r\n\t} else {\r\n\t\tparent.insertBefore(newNode, target.nextSibling);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/common.js","import {\r\n    isFun,\r\n    regText\r\n} from '../common/common.js';\r\nimport {\r\n    Watcher\r\n} from '../watcher/index.js';\r\nimport {\r\n    ForDir\r\n} from './forDir.js';\r\nimport {\r\n    IfDir\r\n} from './ifDir.js';\r\n\r\n/**\r\n * [dirUnit 指令-数据绑定单元]\r\n * @包含各指令方法 [test | event]\r\n */\r\nexport const dirUnit = {\r\n\r\n\t/**\r\n\t * [v-text指令 \\ {{.+}}绑定数据修改函数]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n    text: (node, vm, keys) => {\r\n        dirUnit._bind(node, vm, keys, 'text');\r\n    },\r\n    if: (node, vm, keys) => new IfDir(node, vm, keys),\r\n\r\n    for: (node, vm, keys) => new ForDir(node, vm, keys),\r\n\r\n\t/**\r\n\t * [v-html指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n    html: (node, vm, keys) => {\r\n        dirUnit._bind(node, vm, keys, 'html');\r\n    },\r\n\r\n\t/**\r\n\t * [v-class指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n    class: (node, vm, keys) => {\r\n        dirUnit._bind(node, vm, keys, 'class');\r\n    },\r\n\r\n\t/**\r\n\t * [v-model指令]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {Single} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t */\r\n    model: (node, vm, keys) => {\r\n        dirUnit._bind(node, vm, keys, 'model');\r\n        let me = this,\r\n            _data = vm.$data,\r\n            oldVal = dirUnit._getVal(keys, _data);\r\n        node.addEventListener('input', (event) => {\r\n            oldVal = dirUnit._getVal(keys, _data);\r\n            let ev = event || window.event,\r\n                val = ev.target.value;\r\n            if (val == oldVal) {\r\n                return;\r\n            }\r\n            dirUnit._setVal(keys, _data, val);\r\n\r\n        }, true);\r\n    },\r\n\t/**\r\n\t * [v-on:ev 事件指令]\r\n\t * @param  {[type]} node   [需要更新的节点]\r\n\t * @param  {[type]} vm     [创建的全局对象]\r\n\t * @param  {[type]} dirVal [指令中的值]\r\n\t * @param  {[type]} dir    [指令名]\r\n\t */\r\n    event: (node, vm, dirVal, dir) => {\r\n        let ev = dir.split(':')[1],\r\n            fn = vm.$opts.event[dirVal];\r\n        if (isFun(fn)) {\r\n            node.addEventListener(ev, fn.bind(vm), false);\r\n        }\r\n    },\r\n\r\n\t/**\r\n\t * [将节点值与数据进行绑定，当数据修改时，遍历该数据所有订阅者dep.sub，调用 Watcher 中的匿名函数]\r\n\t * @param  {[type]} node [需要更新的节点]\r\n\t * @param  {[type]} vm   [创建的全局对象]\r\n\t * @param  {[type]} keys [指令中对应的数据位置]\r\n\t * @param  {[type]} dir  [指令名]\r\n\t */\r\n    _bind: (node, vm, keys, dir) => {\r\n        let fn = upper[dir + 'Upper'];\r\n        isFun(fn) && fn(node, dirUnit._getVal(keys, vm.$data));\r\n        new Watcher(vm, keys, (newVal, val) => {\r\n            isFun(fn) && fn(node, newVal, val);\r\n        });\r\n    },\r\n\r\n\t/**\r\n\t * [根据指令值获取绑定的数据值]\r\n\t * @param  {[str]} keys [指令中对应的数据位置]\r\n\t * @param  {[obj]} val  [数据所在位置 / 数据]\r\n\t */\r\n    _getVal: (keys, data) => {\r\n        keys.split('.').forEach(function (key) {\r\n            data = data[key];\r\n        });\r\n        return data;\r\n    },\r\n\r\n\t/**\r\n\t * [设置data中的某项的值，触发set]\r\n\t * @param  {[str]} keys [指令中对应的数据位置]\r\n\t * @param  {[obj]} data [new Single() 参数对象 data]\r\n\t * @param  {[any]} val  [新值]\r\n\t */\r\n    _setVal: (keys, data, val) => {\r\n        let _keys = keys.split('.'),\r\n            len = _keys.length - 1;\r\n        _keys.forEach((key, i) => {\r\n            if (i == len) {\r\n                data[key] = val;\r\n            } else {\r\n                data = data[key];\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * [upper 指令更新单元]\r\n * @param  {[str]} node \t[绑定节点]\r\n * @param  {[obj]} newVla [新值]\r\n * @param  {[any]} val  \t[原值]\r\n */\r\nconst upper = {\r\n    textUpper: (node, newVal, oldVal) => {\r\n        oldVal = oldVal != undefined ? (oldVal + '') : regText;\r\n        node.textContent = node.textContent.replace(oldVal, newVal);\r\n    },\r\n\r\n    htmlUpper: (node, newVal) => {\r\n        node.innerHTML = newVal;\r\n    },\r\n\r\n    modelUpper: (node, newVal, val) => {\r\n        node.value = newVal ? newVal : '';\r\n    },\r\n\r\n    classUpper: (node, newVal, val) => {\r\n        node.className = (val ?\r\n            node.className.replace(val, newVal) \r\n            : (node.className + ' ' + newVal)).trim();\r\n    }\r\n}\r\n\r\nexport function changHtml(html) {\r\n    return document.createRange().createContextualFragment(html);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/index.js","export let target = null;\r\n\r\n/**\r\n * 订阅者对象\r\n */\r\nexport class Watcher {\r\n\tconstructor(vm, keys, fn) {\r\n\t\tthis.$vm = vm;\r\n\t\tthis.$keys = keys;\r\n\t\tthis._fn = fn;\r\n\t\tthis.depIds = {};\r\n\t\tthis.val = this.get();\r\n\t}\r\n\r\n\t/**\r\n\t * [get 获取数据原始值]\r\n\t */\r\n\tget() {\r\n\t\ttarget = this;\r\n\t\tlet val = this.getVal();\r\n\t\ttarget = null;\r\n\t\treturn val;\r\n\t}\r\n\r\n\t/**\r\n\t * [getVal 遍历keys获取属性值，并出发数据get方法，get方法中触发watcher.addDep]\r\n\t */\r\n\tgetVal() {\r\n\t\tlet keys = this.$keys.split('.'),\r\n\t\t\tval = this.$vm.$data;\r\n\t\tkeys.forEach((key) => {\r\n\t\t\tval = val[key];\r\n\t\t});\r\n\t\treturn val;\r\n\t}\r\n\r\n\t/**\r\n\t * [addDep 将Dep加入Watcher.depIds，触发Dep.addSub]\r\n\t * @param {[type]} dep [Dep对象]\r\n\t */\r\n\taddDep(dep) {\r\n\t\tif (!this.depIds.hasOwnProperty(dep.id)) {\r\n\t\t\tthis.depIds[dep.id] = dep;\r\n\t\t\tdep.addSub(this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [update dirUnit._bind中传入的参数]\r\n\t */\r\n\tupdate() {\r\n\t\tlet newVal = this.get(),\r\n\t\t\tval = this.val;\r\n\t\tif (val == newVal) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.val = newVal;\r\n\t\tthis._fn.call(this.$vm, newVal, val, this);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/watcher/index.js","import {\r\n\tisEleNode,\r\n\tisTextNode,\r\n\tisDir,\r\n\tisEventDir,\r\n\tisForDir,\r\n\ttoArray,\r\n\tregText\r\n} from '../common/common.js';\r\nimport {\r\n\tdirUnit\r\n} from '../directive/index.js';\r\n\r\n\r\nexport class Compile {\r\n\tconstructor(el, vm, isDel) {\r\n\t\tthis.$vm = vm;\r\n\t\tthis.$opts = this.$vm.$opts;\r\n\t\tthis.$data = this.$opts.data;\r\n\t\tthis.$isDel = isDel || false;\r\n\t\tthis.$el = el.nodeType ? el : document.querySelector(el);\r\n\r\n\t\tif (this.$el) {\r\n\t\t\tlet frag = this.node2Fragment(this.$el);\r\n\t\t\tthis.analyEleNode(frag);\r\n\t\t\tthis.$el.appendChild(frag);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * [node2Fragment 将节点放入文档碎片]\r\n\t * @param  {[type]} node [节点]\r\n\t */\r\n\tnode2Fragment(node) {\r\n\t\tlet frag = document.createDocumentFragment(),\r\n\t\t\tchild;\r\n\t\twhile (child = node.firstChild) {\r\n\t\t\tfrag.appendChild(child);\r\n\t\t}\r\n\t\treturn frag;\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * [analyEleNode 解析模板对模板中的指令进行解析]\r\n\t * @param  {node} el [ 开始节点（递归） ]\r\n\t * @return {[undefined]}\r\n\t */\r\n\tanalyEleNode(el) {\r\n\t\tlet child = el.childNodes,\r\n\t\t\tme = this;\r\n\t\ttoArray(child).forEach((node) => {\r\n\t\t\tif (isEleNode(node)) { //若为元素节点对其属性节点进行遍历\r\n\t\t\t\tme.analyArrtNode(node);\r\n\t\t\t} else if (isTextNode(node) && regText.test(node.textContent)) {\r\n\t\t\t\tdirUnit.text(node, me.$vm, RegExp.$1.trim());\r\n\t\t\t}\r\n\t\t\tif (node.parentNode && node.childNodes && node.childNodes.length > -1) {\r\n\t\t\t\tme.analyEleNode(node);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * [analyArrtNode 对元素节点的属性进行遍历，找出其中指令]\r\n\t * @param  {[node]} node [需要遍历属性的节点]\r\n\t * @return {[undefined]}\r\n\t */\r\n\tanalyArrtNode(node) {\r\n\t\tlet attrs = node.attributes,\r\n\t\t\tme = this,\r\n\t\t\tattrName = '';\r\n\r\n\t\ttoArray(attrs).forEach((attr) => {\r\n\t\t\tattrName = attr.name;\r\n\t\t\tif (isDir(attrName)) {\r\n\t\t\t\tlet dirName = attrName.split('-')[1],\r\n\t\t\t\t\tdirVal = attr.value.trim();\r\n\t\t\t\tif (isEventDir(dirName)) {\r\n\t\t\t\t\tdirUnit.event(node, me.$vm, dirVal, dirName);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdirUnit[dirName](node, me.$vm, dirVal);\r\n\t\t\t\t}\r\n\t\t\t} else if (regText.test(attr.textContent)) {\r\n\t\t\t\tdirUnit.text(attr, me.$vm, RegExp.$1.trim());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/compile/index.js","\r\nlet jsonpId = 0\r\n\r\nexport function ajax(aD) {\r\n\tif (!aD.url) throw new Error('请输入正确的URL!');\r\n\r\n\taD.type = aD.type || 'GET';\r\n\taD.async = aD.async || true;\r\n\taD.data = encodeFormat(aD.data);\r\n\taD.header = aD.header || \"application/x-www-form-urlencoded\";\r\n\taD.url = aD.type == 'POST' ?\r\n\t\tsaD.url\r\n\t\t: aD.url + (aD.url.indexOf('?') == -1 ? '?' : '&') + aD.data;\r\n\r\n\tif (aD.type == 'jsonp') {\r\n\t\tajaxJsonp(aD);\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet re = new XMLHttpRequest;\r\n\t\r\n\tre.open(aD.type, aD.url, aD.async);\r\n\taD.type.toUpperCase == 'POST'\r\n\t\t&& re.setRequestHeader(\"content-type\", aD.header);\r\n\r\n\tre.addEventListener('readystatechange', () =>\r\n\t\tre.readyState == 4 && aD.success && aD.success(re.response)\r\n\t);\r\n\tre.send(aD.type === 'GET' ? null : aD.data);\r\n}\r\n\r\nfunction encodeFormat(obj) {\r\n\treturn !obj ? '' : Object.keys(obj).reduce(\r\n\t\t(re, item) => re += '&' + item + '=' + obj[item], '').slice(1);\r\n}\r\n\r\nfunction ajaxJsonp(ao) {\r\n\tif (!ao.jsonp) throw new Error('请输入函数名称');\r\n\tlet fnName = 'jsonp' + '_' + (jsonpId++);\r\n\tao.url = ao.url\r\n\t\t+ ((ao.url.indexOf('?') == -1 ? '?' : '&'))\r\n\t\t+ ao.jsonp + '=' + fnName;\r\n\tlet script = document.createElement('script');\r\n\tglobal[fnName] = (response) => {\r\n\t\ttry {\r\n\t\t\tao.success(response);\r\n\t\t} finally {\r\n\t\t\tdelete global[fnName];\r\n\t\t\tscript.remove();\r\n\t\t}\r\n\t}\r\n\tscript.src = ao.url;\r\n\tdocument.body.appendChild(script);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ajax/index.js","\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 发布者与订阅者关联对象\r\n */\r\nexport class Dep {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.sub = [];\r\n    }\r\n\r\n\t/**\r\n\t * [addSub 在sub中增加订阅者]\r\n\t * @param {[type]} watcher [订阅者 Watcher 对象]\r\n\t */\r\n    addSub(watcher) {\r\n        this.sub.push(watcher);\r\n    }\r\n\r\n    rmSub(sub) {\r\n        let reg = /\\.(\\d)+\\./g;\r\n        return sub.filter((item)=>{\r\n            return !item.$keys.match(reg);\r\n        });\r\n    }\r\n\t/**\r\n\t * [depend 触发 Wtacher 的add事件，将dep加入 Watcher]\r\n\t */\r\n    depend() {\r\n        target.addDep(this);\r\n    }\r\n\r\n\t/**\r\n\t * [notify 绑定数据set出发此方法，对sub中Watcher进行遍历触发update]\r\n\t */\r\n    notify(isArr) {\r\n        if(isArr){\r\n            this.sub = this.rmSub(this.sub);\r\n        }            \r\n        this.sub.forEach((item) => {\r\n            item.update();\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/dep/index.js","import {\r\n\ttoArray\r\n} from '../common/common.js';\r\nimport {\r\n\tdirUnit\r\n} from './index.js';\r\nimport {\r\n\tCompile\r\n} from '../compile/index.js';\r\nimport {\r\n\tchangHtml\r\n} from '../directive/index.js';\r\nimport {\r\n\tWatcher\r\n} from '../watcher/index.js';\r\n\r\nexport class ForDir {\r\n\tconstructor(node, vm, keys) {\r\n\t\tthis.start = null;\r\n\t\tthis.end = null;\r\n\t\tthis.init(node, vm, keys);\r\n\t}\r\n\r\n\tinit(node, vm, keys) {\r\n\t\tthis.bind(node, vm, keys);\r\n\t}\r\n\r\n\tbind(node, vm, keys) {\r\n\t\tlet arrName = keys.split('in')[1].trim(),\r\n\t\t\tme = this,\r\n\t\t\treg = /\\.(\\d)+\\./g\r\n\t\tme.upper(node, vm, keys);\r\n\t\tnew Watcher(vm, arrName, (val, newVal,watcher) => {\r\n\t\t\twhile (this.start.nextSibling != this.end) {\r\n\t\t\t\tthis.end.parentNode.removeChild(this.start.nextSibling);\r\n\t\t\t}\r\n\t\t\tme.upper(node, vm, keys);\r\n\t\t});\r\n\t}\r\n\r\n\tupper(node, vm, keys) {\r\n\t\tif (!this.start) {\r\n\t\t\tthis.start = document.createComment('start of s-for');\r\n\t\t\tnode.parentNode.insertBefore(this.start, node);\r\n\t\t}\r\n\t\tif (!this.end) {\r\n\t\t\tthis.end = document.createComment('end of s-for');\r\n\t\t\tnode.parentNode.insertBefore(this.end, node);\r\n\t\t}\r\n\r\n\t\tnode.removeAttribute('s-for');\r\n\t\tlet item = keys.split('in')[0].trim(),\r\n\t\t\tarrName = keys.split('in')[1].trim(),\r\n\t\t\tarr = dirUnit._getVal(arrName, vm.$data),\r\n\t\t\thtml = node.outerHTML,\r\n\t\t\treg = new RegExp(item,'gm'),\r\n\t\t\tbox = '';\r\n\t\tfor (let i = 0, len = arr.length; i < len; i++) {\r\n\t\t\tbox += html.replace(reg, arrName + '.' + i);\r\n\t\t};\r\n\t\tbox = changHtml(box);\r\n\t\tnew Compile(box, vm, true);\r\n\t\tthis.end.parentNode.insertBefore(box, this.end);\r\n\r\n\t\tif (node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/forDir.js","import {\r\n\tdirUnit\r\n} from './index.js';\r\nimport {\r\n\tCompile\r\n} from '../compile/index.js';\r\nimport {\r\n\tchangHtml\r\n} from '../directive/index.js';\r\nimport {\r\n\tWatcher\r\n} from '../watcher/index.js';\r\n\r\nexport class IfDir {\r\n\tconstructor(node, vm, keys) {\r\n\t\tthis.start = null;\r\n\t\tthis.end = null;\r\n\t\tthis.init(node, vm, keys);\r\n\t}\r\n\r\n\tinit(node, vm, keys) {\r\n\t\tthis.bind(node, vm, keys);\r\n\t}\r\n\r\n\tbind(node, vm, keys) {\r\n\t\tlet me = this;\r\n\t\tnew Compile(node,vm);\r\n\t\tme.upper(node, vm, keys,dirUnit._getVal(keys,vm.$data));\r\n\t\tnew Watcher(vm, keys, (newVal, val) => {\r\n\t\t\tif(!!newVal == !!val){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.upper(node, vm, keys,newVal);\r\n\t\t});\r\n\t}\r\n\r\n\tupper(node, vm, keys,newVal,val) {\r\n\t\tif (!this.start) {\r\n\t\t\tthis.start = document.createComment('start of s-if');\r\n\t\t\tnode.parentNode.insertBefore(this.start, node);\r\n\t\t}\r\n\t\tif (!this.end) {\r\n\t\t\tthis.end = document.createComment('end of s-if');\r\n\t\t\tnode.parentNode.insertBefore(this.end, node);\r\n\t\t}\r\n\t\tif(node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t\tif(newVal){\r\n\t\t\tthis.end.parentNode.insertBefore(node,this.end);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/ifDir.js","import { isObject, isArray, isFun } from '../common/common.js';\r\nimport { Dep } from '../dep/index.js';\r\nimport { target } from '../watcher/index.js';\r\n\r\n/**\r\n * 发布者对象\r\n */\r\nexport class Observe {\r\n    constructor(data) {\r\n        if (!isObject(data)) {\r\n            return;\r\n        }\r\n        this.walk(data);\r\n    }\r\n\r\n\t/**\r\n\t * [walk 对数据中属性进行遍历劫持]\r\n\t * @param  {[type]} data [待劫持数据]\r\n\t */\r\n    walk(data) {\r\n        let me = this,\r\n            hadProperty = Object.getOwnPropertyDescriptor;\r\n        Object.keys(data).forEach(function (key) {\r\n            if (isFun(hadProperty(data, key).set)) {\r\n                return;\r\n            }\r\n            me.convert(data, key, data[key]);\r\n        });\r\n    }\r\n\r\n\t/**\r\n\t * [convert 递归数据劫持]\r\n\t * @param  {[type]} data  [待劫持数据]\r\n\t * @param  {[type]} key   [待劫持数据属性名]\r\n\t * @param  {[type]} value [待劫持数据值]\r\n\t */\r\n    convert(data, key, value) {\r\n        let ob = this,\r\n            children = new Observe(value),\r\n            dep = new Dep();\r\n        Object.defineProperty(data, key, {\r\n            configurable: false,\r\n            enumerable: true,\r\n            get: function () {\r\n                target && target.addDep(dep);\r\n                return value;\r\n            },\r\n            set: function (newVal) {\r\n                if (value == newVal) {\r\n                    return;\r\n                }\r\n                value = newVal;\r\n                children = new Observe(newVal);\r\n                dep.notify(isArray(newVal));\r\n            }\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/observe/index.js","import { err, isFun } from '../common/common.js';\r\nimport { Observe } from '../observe/index.js';\r\nimport { Compile } from '../compile/index.js';\r\n\r\n/**\r\n * 入口对象\r\n */\r\nexport class VM {\r\n\tconstructor(options) {\r\n\t\tthis.$opts = options;\r\n\t\tthis.$data = options.data;\r\n\t\tif (isFun(options)) {\r\n\t\t\toptions.data = options.data();\r\n\t\t} this.$observe = new Observe(options.data);\r\n\r\n\t\tthis.$compile = new Compile(options.el || document.body, this);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vm/index.js"],"sourceRoot":""}